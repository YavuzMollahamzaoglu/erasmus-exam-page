{"ast":null,"code":"import React,{useState}from'react';import{Box,Typography,TextField,Button,Paper,Alert,LinearProgress,IconButton,Chip,Card,CardContent,Dialog,DialogTitle,DialogContent,DialogActions}from'@mui/material';import ArrowBackIcon from'@mui/icons-material/ArrowBack';import SendIcon from'@mui/icons-material/Send';import AutoAwesomeIcon from'@mui/icons-material/AutoAwesome';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EssayTopics=[\"Some people think that social media has a negative impact on society. Do you agree or disagree?\",\"Many people believe that learning a foreign language is essential for career success. What is your opinion?\",\"Some argue that technology has made people less social. Discuss both views and give your opinion.\",\"Education should be free for everyone. Do you agree or disagree with this statement?\",\"The environment should be the government's top priority. Discuss your views on this topic.\"];export default function EssayWriting(){const navigate=useNavigate();const[selectedTopic,setSelectedTopic]=useState('');const[customTopic,setCustomTopic]=useState('');const[essayText,setEssayText]=useState('');const[isEvaluating,setIsEvaluating]=useState(false);const[evaluation,setEvaluation]=useState(null);const[error,setError]=useState('');const[showTopicDialog,setShowTopicDialog]=useState(true);const[wordCount,setWordCount]=useState(0);const[charCount,setCharCount]=useState(0);const[turkishCharCount,setTurkishCharCount]=useState(0);const[showLangDialog,setShowLangDialog]=useState(false);// Parse feedback into readable bullet points\nconst feedbackBullets=React.useMemo(()=>{const text=((evaluation===null||evaluation===void 0?void 0:evaluation.feedback)||'').trim();if(!text)return[];// Prefer double-newline paragraph splits; otherwise split by sentence boundaries.\nconst paragraphs=text.split(/\\n{2,}/).map(s=>s.trim()).filter(Boolean);if(paragraphs.length>1)return paragraphs;const sentences=text.replace(/\\s+/g,' ').split(/(?<=[.!?])\\s+/).map(s=>s.trim()).filter(Boolean);return sentences;},[evaluation===null||evaluation===void 0?void 0:evaluation.feedback]);const handleTopicSelect=topic=>{setSelectedTopic(topic);setShowTopicDialog(false);};const handleCustomTopic=()=>{if(customTopic.trim()){setSelectedTopic(customTopic);setShowTopicDialog(false);}};const handleEssayChange=e=>{const text=e.target.value;setEssayText(text);setWordCount(text.trim().split(/\\s+/).filter(word=>word.length>0).length);setCharCount(text.trim().length);// Count Turkish-specific characters (ı,ğ,ş,ç,ö,ü and uppercase variants)\nconst trMatches=text.match(/[ığüşöçİĞÜŞÖÇ]/g)||[];setTurkishCharCount(trMatches.length);};const evaluateEssay=async()=>{if(!essayText.trim()){setError('Lütfen essay metninizi yazın.');return;}if(charCount<100){setError(\"Essay’inizin değerlendirilebilmesi için minimum 100 karakter olmalıdır.\");return;}// Block evaluation if Turkish character count exceeds the limit\nif(turkishCharCount>10){setShowLangDialog(true);return;}setIsEvaluating(true);setError('');try{const response=await fetch('http://localhost:4000/api/essays/evaluate',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({essayText,topic:selectedTopic})});const data=await response.json();if(!response.ok){throw new Error(data.error||'Essay değerlendirme hatası');}setEvaluation(data);}catch(err){console.error('Essay evaluation error:',err);setError(err.message||'Essay değerlendirme sırasında hata oluştu.');}finally{setIsEvaluating(false);}};const getScoreColor=function(score){let isOverall=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(isOverall){// Overall score is 0-100\nif(score>=80)return'#4caf50';// Green\nif(score>=60)return'#ff9800';// Orange\nreturn'#f44336';// Red\n}else{// Sub-scores are 1-10\nif(score>=8)return'#4caf50';// Green\nif(score>=6)return'#ff9800';// Orange\nreturn'#f44336';// Red\n}};const getScoreLabel=function(score){let isOverall=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(isOverall){// Overall score is 0-100\nif(score>=90)return'Mükemmel';if(score>=80)return'Çok İyi';if(score>=70)return'İyi';if(score>=60)return'Yeterli';if(score>=50)return'Orta';return'Geliştirilmeli';}else{// Sub-scores are 1-10\nif(score>=9)return'Mükemmel';if(score>=8)return'Çok İyi';if(score>=7)return'İyi';if(score>=6)return'Yeterli';if(score>=5)return'Orta';return'Geliştirilmeli';}};const resetEssay=()=>{setEssayText('');setEvaluation(null);setError('');setWordCount(0);setShowTopicDialog(true);setSelectedTopic('');setCustomTopic('');};return/*#__PURE__*/_jsxs(Box,{sx:{minHeight:'100vh',background:'#b2dfdb',display:'flex',justifyContent:'center',alignItems:'flex-start',px:2,pt:0,pb:{xs:7,md:8}},children:[/*#__PURE__*/_jsxs(Dialog,{open:showTopicDialog,maxWidth:\"md\",fullWidth:true,PaperProps:{sx:{borderRadius:3}},children:[/*#__PURE__*/_jsxs(DialogTitle,{sx:{background:'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',color:'#fff',textAlign:'center',fontWeight:700},children:[/*#__PURE__*/_jsx(AutoAwesomeIcon,{sx:{mr:1}}),\" Essay Konusu Se\\xE7in\"]}),/*#__PURE__*/_jsxs(DialogContent,{sx:{pt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2,color:'#333',mt:'10px'},children:\"\\xD6nerilen Konular:\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexDirection:'column',gap:2},children:EssayTopics.map((topic,index)=>/*#__PURE__*/_jsx(Card,{sx:{cursor:'pointer','&:hover':{bgcolor:'#e3f2fd',transform:'translateY(-2px)',boxShadow:4},transition:'all 0.3s'},onClick:()=>handleTopicSelect(topic),children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{fontWeight:500},children:topic})})},index))}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mt:4,mb:2,color:'#333'},children:\"Veya Kendi Konunuzu Yaz\\u0131n:\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:3,value:customTopic,onChange:e=>setCustomTopic(e.target.value),placeholder:\"Kendi essay konunuzu yaz\\u0131n...\",variant:\"outlined\",sx:{mb:2}})]}),/*#__PURE__*/_jsx(DialogActions,{sx:{p:3},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleCustomTopic,disabled:!customTopic.trim(),sx:{background:'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',color:'#fff',fontWeight:700,borderRadius:2,px:3,textTransform:'none','&:hover':{background:'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)'}},children:\"\\xD6zel Konu Kullan\"})})]}),/*#__PURE__*/_jsxs(Paper,{elevation:6,sx:{width:'100%',maxWidth:1000,borderRadius:4,overflow:'hidden',mt:{xs:1,md:'15px'},background:'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',boxShadow:'0 20px 40px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(Box,{sx:{background:'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',color:'#fff',p:{xs:3,md:4},textAlign:'center',position:'relative',overflow:'hidden','&::before':{content:'\"\"',position:'absolute',inset:0,background:'rgba(255,255,255,0.1)',backdropFilter:'blur(5px)'}},children:/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',zIndex:1,minHeight:{xs:56,md:'auto'},display:{xs:'block',md:'flex'},alignItems:{md:'center'}},children:[/*#__PURE__*/_jsx(IconButton,{onClick:()=>navigate('/questions'),sx:{color:'#fff',position:{xs:'absolute',md:'static'},left:{xs:8,md:'auto'},top:{xs:'50%',md:'auto'},transform:{xs:'translateY(-50%)',md:'none'}},\"aria-label\":\"Geri d\\xF6n\",children:/*#__PURE__*/_jsx(ArrowBackIcon,{})}),/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{fontWeight:700,textAlign:'center',position:{xs:'absolute',md:'static'},left:{xs:'50%',md:'auto'},top:{xs:'50%',md:'auto'},transform:{xs:'translate(-50%, -50%)',md:'none'},width:{xs:'80%',md:'auto'},fontSize:{xs:'1.35rem',md:'2rem'},mx:{md:'auto'},whiteSpace:{xs:'nowrap',md:'normal'},overflow:'hidden',textOverflow:'ellipsis'},children:[/*#__PURE__*/_jsx(AutoAwesomeIcon,{sx:{mr:1,verticalAlign:'middle'}}),\" AI Essay De\\u011Ferlendirici\"]})]})}),/*#__PURE__*/_jsxs(Box,{sx:{p:{xs:3,md:4}},children:[selectedTopic&&/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:1,color:'#00695c'},children:\"Se\\xE7ilen Konu:\"}),/*#__PURE__*/_jsx(Paper,{sx:{p:2,background:'rgba(0, 184, 148, 0.08)',border:'1px solid rgba(0, 184, 148, 0.25)',borderRadius:2},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{fontStyle:'italic'},children:[\"\\\"\",selectedTopic,\"\\\"\"]})}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",onClick:()=>setShowTopicDialog(true),sx:{mt:1,borderColor:'rgba(0, 184, 148, 0.5)',color:'#00796b',fontWeight:600,textTransform:'none','&:hover':{borderColor:'#00b894',background:'rgba(0, 184, 148, 0.08)'}},children:\"Konu De\\u011Fi\\u015Ftir\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:evaluation?'row':'column',gap:3,'@media (max-width: 900px)':{flexDirection:'column'}},children:[/*#__PURE__*/_jsx(Box,{sx:{flex:evaluation?1:'auto',minWidth:0},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3,borderRadius:3,background:'rgba(255,255,255,0.9)',border:'1px solid rgba(0, 184, 148, 0.15)'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:{xs:'column',sm:'row'},justifyContent:{xs:'flex-start',sm:'space-between'},alignItems:{xs:'flex-start',sm:'center'},mb:1.5,gap:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:600,color:'#2c3e50',whiteSpace:{xs:'nowrap',sm:'normal'}},children:\"Essay Yazma Alan\\u0131\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,alignItems:'center',mt:{xs:0.5,sm:0}},children:[/*#__PURE__*/_jsx(Chip,{label:`${wordCount} kelime`,sx:{borderColor:'rgba(0, 184, 148, 0.4)',color:'#00695c',fontWeight:600},variant:\"outlined\"}),/*#__PURE__*/_jsx(Chip,{label:`${charCount} karakter`,sx:{borderColor:'rgba(0, 184, 148, 0.4)',color:'#00695c',fontWeight:600},variant:\"outlined\"})]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{display:'block',mb:1.5,color:'#607d8b'},children:\"Kelime say\\u0131s\\u0131 yaln\\u0131zca bilgilendirme ama\\xE7l\\u0131d\\u0131r; herhangi bir s\\u0131n\\u0131rlama yoktur.\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:20,value:essayText,onChange:handleEssayChange,placeholder:\"Essay\\u2019inizi buraya yaz\\u0131n\\u0131z...\",variant:\"outlined\",sx:{mb:1,'& .MuiInputBase-root':{background:'rgba(255,255,255,0.95)'},'& .MuiInputBase-input':{fontSize:'16px',lineHeight:1.6}}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mb:1,fontWeight:600,color:charCount<100?'#e53935':'#2e7d32'},children:\"Essay\\u2019inizin de\\u011Ferlendirilebilmesi i\\xE7in minimum 100 karakter olmal\\u0131d\\u0131r.\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{mb:2,color:'#00695c'},children:[\"\\u0130pucu: Ortalama bilgilendirici bir essay i\\xE7in \",/*#__PURE__*/_jsx(\"strong\",{children:\"170\\u2013190 kelime\"}),\" aral\\u0131\\u011F\\u0131 idealdir (zorunlu de\\u011Fildir).\"]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:evaluateEssay,disabled:isEvaluating||charCount<100,startIcon:isEvaluating?null:/*#__PURE__*/_jsx(SendIcon,{}),sx:{background:'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',color:'#fff',fontWeight:700,borderRadius:2,px:3,textTransform:'none','&:hover':{background:'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)'}},children:isEvaluating?'Değerlendiriliyor...':\"Essay'i Değerlendir\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:resetEssay,disabled:isEvaluating,sx:{borderColor:'rgba(0, 184, 148, 0.5)',color:'#00796b',fontWeight:600,textTransform:'none','&:hover':{borderColor:'#00b894',background:'rgba(0, 184, 148, 0.08)'}},children:\"Yeni Essay\"})]}),/*#__PURE__*/_jsxs(Dialog,{open:showLangDialog,onClose:()=>setShowLangDialog(false),maxWidth:\"xs\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Essay Dili Hakk\\u0131nda\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Typography,{children:[\"Metninizde \",/*#__PURE__*/_jsx(\"strong\",{children:turkishCharCount}),\" adet T\\xFCrk\\xE7e karakter tespit edildi. L\\xFCtfen essay\\u2019i \\u0130ngilizce yaz\\u0131n.\"]})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowLangDialog(false),autoFocus:true,children:\"Tamam\"})})]}),isEvaluating&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(LinearProgress,{sx:{height:8,borderRadius:4,bgcolor:'rgba(0, 184, 148, 0.1)','& .MuiLinearProgress-bar':{background:'linear-gradient(90deg, #00b894 0%, #00cec9 100%)'}}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:1,textAlign:'center',color:'#00695c'},children:\"AI essay'inizi analiz ediyor...\"})]})]})}),evaluation&&/*#__PURE__*/_jsx(Box,{sx:{flex:1,minWidth:0},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3,borderRadius:3,background:'rgba(255,255,255,0.9)',border:'1px solid rgba(0, 184, 148, 0.15)'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",sx:{fontWeight:600,mb:3,color:'#2c3e50'},children:[/*#__PURE__*/_jsx(AutoAwesomeIcon,{sx:{mr:1}}),\" AI De\\u011Ferlendirme Sonucu\"]}),/*#__PURE__*/_jsx(Card,{sx:{mb:3,background:'rgba(0, 184, 148, 0.06)',border:'1px solid rgba(0, 184, 148, 0.15)'},children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{fontWeight:700,color:getScoreColor(evaluation.scores.overall,true),mb:1},children:[evaluation.scores.overall,\"/100\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'#666'},children:\"Genel Puan\"}),/*#__PURE__*/_jsx(Chip,{label:getScoreLabel(evaluation.scores.overall,true),sx:{bgcolor:getScoreColor(evaluation.scores.overall,true),color:'white',fontWeight:600,mt:1}})]})}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2},children:\"Detayl\\u0131 Puanlama:\"}),[{key:'task_response',label:'Görev Yanıtı'},{key:'coherence_cohesion',label:'Tutarlılık & Bağlantı'},{key:'lexical_resource',label:'Kelime Bilgisi'},{key:'grammar',label:'Dilbilgisi'}].map(_ref=>{let{key,label}=_ref;const score=evaluation.scores[key];return/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mb:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:label}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{fontWeight:600,color:getScoreColor(score)},children:[score,\"/9\"]})]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:score/9*100,sx:{height:8,borderRadius:4,bgcolor:'#e0e0e0','& .MuiLinearProgress-bar':{bgcolor:getScoreColor(score),borderRadius:4}}})]},key);})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2},children:\"AI Geri Bildirim:\"}),/*#__PURE__*/_jsx(Paper,{sx:{p:2,bgcolor:'#f8f9fa',border:'1px solid #e0e0e0'},children:feedbackBullets.length<=1?/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{lineHeight:1.7},children:evaluation.feedback}):/*#__PURE__*/_jsx(Box,{component:\"ul\",sx:{m:0,pl:3},children:feedbackBullets.map((b,idx)=>/*#__PURE__*/_jsx(Box,{component:\"li\",sx:{mb:1.2},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{lineHeight:1.7},children:b})},idx))})})]})]})})]})]})]})]});}","map":{"version":3,"names":["React","useState","Box","Typography","TextField","Button","Paper","Alert","LinearProgress","IconButton","Chip","Card","CardContent","Dialog","DialogTitle","DialogContent","DialogActions","ArrowBackIcon","SendIcon","AutoAwesomeIcon","useNavigate","jsx","_jsx","jsxs","_jsxs","EssayTopics","EssayWriting","navigate","selectedTopic","setSelectedTopic","customTopic","setCustomTopic","essayText","setEssayText","isEvaluating","setIsEvaluating","evaluation","setEvaluation","error","setError","showTopicDialog","setShowTopicDialog","wordCount","setWordCount","charCount","setCharCount","turkishCharCount","setTurkishCharCount","showLangDialog","setShowLangDialog","feedbackBullets","useMemo","text","feedback","trim","paragraphs","split","map","s","filter","Boolean","length","sentences","replace","handleTopicSelect","topic","handleCustomTopic","handleEssayChange","e","target","value","word","trMatches","match","evaluateEssay","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","err","console","message","getScoreColor","score","isOverall","arguments","undefined","getScoreLabel","resetEssay","sx","minHeight","background","display","justifyContent","alignItems","px","pt","pb","xs","md","children","open","maxWidth","fullWidth","PaperProps","borderRadius","color","textAlign","fontWeight","mr","variant","mb","mt","flexDirection","gap","index","cursor","bgcolor","transform","boxShadow","transition","onClick","multiline","rows","onChange","placeholder","p","disabled","textTransform","elevation","width","overflow","backdropFilter","border","position","content","inset","zIndex","left","top","fontSize","mx","whiteSpace","textOverflow","verticalAlign","fontStyle","size","borderColor","flex","minWidth","sm","label","lineHeight","severity","flexWrap","startIcon","onClose","autoFocus","height","scores","overall","key","_ref","component","m","pl","b","idx"],"sources":["/Users/yavuz/Desktop/portfolio/erasmus-exam-page/frontend/src/pages/EssayWriting.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Paper,\n  Alert,\n  LinearProgress,\n  IconButton,\n  Chip,\n  Card,\n  CardContent,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SendIcon from '@mui/icons-material/Send';\nimport AutoAwesomeIcon from '@mui/icons-material/AutoAwesome';\nimport { useNavigate } from 'react-router-dom';\n\ninterface EssayScores {\n  task_response: number;\n  coherence_cohesion: number;\n  lexical_resource: number;\n  grammar: number;\n  overall: number;\n}\n\ninterface EssayEvaluation {\n  scores: EssayScores;\n  feedback: string;\n}\n\nconst EssayTopics = [\n  \"Some people think that social media has a negative impact on society. Do you agree or disagree?\",\n  \"Many people believe that learning a foreign language is essential for career success. What is your opinion?\",\n  \"Some argue that technology has made people less social. Discuss both views and give your opinion.\",\n  \"Education should be free for everyone. Do you agree or disagree with this statement?\",\n  \"The environment should be the government's top priority. Discuss your views on this topic.\"\n];\n\nexport default function EssayWriting() {\n  const navigate = useNavigate();\n  const [selectedTopic, setSelectedTopic] = useState<string>('');\n  const [customTopic, setCustomTopic] = useState<string>('');\n  const [essayText, setEssayText] = useState<string>('');\n  const [isEvaluating, setIsEvaluating] = useState<boolean>(false);\n  const [evaluation, setEvaluation] = useState<EssayEvaluation | null>(null);\n  const [error, setError] = useState<string>('');\n  const [showTopicDialog, setShowTopicDialog] = useState<boolean>(true);\n  const [wordCount, setWordCount] = useState<number>(0);\n  const [charCount, setCharCount] = useState<number>(0);\n  const [turkishCharCount, setTurkishCharCount] = useState<number>(0);\n  const [showLangDialog, setShowLangDialog] = useState<boolean>(false);\n\n  // Parse feedback into readable bullet points\n  const feedbackBullets = React.useMemo(() => {\n    const text = (evaluation?.feedback || '').trim();\n    if (!text) return [] as string[];\n    // Prefer double-newline paragraph splits; otherwise split by sentence boundaries.\n    const paragraphs = text.split(/\\n{2,}/).map(s => s.trim()).filter(Boolean);\n    if (paragraphs.length > 1) return paragraphs;\n    const sentences = text\n      .replace(/\\s+/g, ' ')\n      .split(/(?<=[.!?])\\s+/)\n      .map(s => s.trim())\n      .filter(Boolean);\n    return sentences;\n  }, [evaluation?.feedback]);\n\n  const handleTopicSelect = (topic: string) => {\n    setSelectedTopic(topic);\n    setShowTopicDialog(false);\n  };\n\n  const handleCustomTopic = () => {\n    if (customTopic.trim()) {\n      setSelectedTopic(customTopic);\n      setShowTopicDialog(false);\n    }\n  };\n\n  const handleEssayChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const text = e.target.value;\n    setEssayText(text);\n    setWordCount(text.trim().split(/\\s+/).filter(word => word.length > 0).length);\n  setCharCount(text.trim().length);\n\n  // Count Turkish-specific characters (ı,ğ,ş,ç,ö,ü and uppercase variants)\n  const trMatches = text.match(/[ığüşöçİĞÜŞÖÇ]/g) || [];\n  setTurkishCharCount(trMatches.length);\n  };\n\n  const evaluateEssay = async () => {\n    if (!essayText.trim()) {\n      setError('Lütfen essay metninizi yazın.');\n      return;\n    }\n\n    if (charCount < 100) {\n      setError(\"Essay’inizin değerlendirilebilmesi için minimum 100 karakter olmalıdır.\");\n      return;\n    }\n\n    // Block evaluation if Turkish character count exceeds the limit\n    if (turkishCharCount > 10) {\n      setShowLangDialog(true);\n      return;\n    }\n\n    setIsEvaluating(true);\n    setError('');\n\n    try {\n      const response = await fetch('http://localhost:4000/api/essays/evaluate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ essayText, topic: selectedTopic })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Essay değerlendirme hatası');\n      }\n\n      setEvaluation(data);\n    } catch (err: any) {\n      console.error('Essay evaluation error:', err);\n      setError(err.message || 'Essay değerlendirme sırasında hata oluştu.');\n    } finally {\n      setIsEvaluating(false);\n    }\n  };\n\n  const getScoreColor = (score: number, isOverall: boolean = false) => {\n    if (isOverall) {\n      // Overall score is 0-100\n      if (score >= 80) return '#4caf50'; // Green\n      if (score >= 60) return '#ff9800'; // Orange\n      return '#f44336'; // Red\n    } else {\n      // Sub-scores are 1-10\n      if (score >= 8) return '#4caf50'; // Green\n      if (score >= 6) return '#ff9800'; // Orange\n      return '#f44336'; // Red\n    }\n  };\n\n  const getScoreLabel = (score: number, isOverall: boolean = false) => {\n    if (isOverall) {\n      // Overall score is 0-100\n      if (score >= 90) return 'Mükemmel';\n      if (score >= 80) return 'Çok İyi';\n      if (score >= 70) return 'İyi';\n      if (score >= 60) return 'Yeterli';\n      if (score >= 50) return 'Orta';\n      return 'Geliştirilmeli';\n    } else {\n      // Sub-scores are 1-10\n      if (score >= 9) return 'Mükemmel';\n      if (score >= 8) return 'Çok İyi';\n      if (score >= 7) return 'İyi';\n      if (score >= 6) return 'Yeterli';\n      if (score >= 5) return 'Orta';\n      return 'Geliştirilmeli';\n    }\n  };\n\n  const resetEssay = () => {\n    setEssayText('');\n    setEvaluation(null);\n    setError('');\n    setWordCount(0);\n    setShowTopicDialog(true);\n    setSelectedTopic('');\n    setCustomTopic('');\n  };\n\n  return (\n    <Box sx={{\n      minHeight: '100vh',\n      background: '#b2dfdb',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      px: 2,\n      pt: 0,\n      pb: { xs: 7, md: 8 },\n    }}>\n      {/* Topic Selection Dialog - themed */}\n      <Dialog \n        open={showTopicDialog} \n        maxWidth=\"md\" \n        fullWidth\n        PaperProps={{ sx: { borderRadius: 3 } }}\n      >\n        <DialogTitle sx={{\n          background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n          color: '#fff',\n          textAlign: 'center',\n          fontWeight: 700,\n        }}>\n          <AutoAwesomeIcon sx={{ mr: 1 }} /> Essay Konusu Seçin\n        </DialogTitle>\n        <DialogContent sx={{ pt: 3 }}>\n          <Typography variant=\"h6\" sx={{ mb: 2, color: '#333', mt: '10px' }}>\n            Önerilen Konular:\n          </Typography>\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n            {EssayTopics.map((topic, index) => (\n              <Card \n                key={index}\n                sx={{ \n                  cursor: 'pointer',\n                  '&:hover': {\n                    bgcolor: '#e3f2fd',\n                    transform: 'translateY(-2px)',\n                    boxShadow: 4\n                  },\n                  transition: 'all 0.3s'\n                }}\n                onClick={() => handleTopicSelect(topic)}\n              >\n                <CardContent>\n                  <Typography variant=\"body1\" sx={{ fontWeight: 500 }}>\n                    {topic}\n                  </Typography>\n                </CardContent>\n              </Card>\n            ))}\n          </Box>\n          \n          <Typography variant=\"h6\" sx={{ mt: 4, mb: 2, color: '#333' }}>\n            Veya Kendi Konunuzu Yazın:\n          </Typography>\n          <TextField\n            fullWidth\n            multiline\n            rows={3}\n            value={customTopic}\n            onChange={(e) => setCustomTopic(e.target.value)}\n            placeholder=\"Kendi essay konunuzu yazın...\"\n            variant=\"outlined\"\n            sx={{ mb: 2 }}\n          />\n        </DialogContent>\n        <DialogActions sx={{ p: 3 }}>\n          <Button\n            variant=\"contained\"\n            onClick={handleCustomTopic}\n            disabled={!customTopic.trim()}\n            sx={{\n              background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n              color: '#fff',\n              fontWeight: 700,\n              borderRadius: 2,\n              px: 3,\n              textTransform: 'none',\n              '&:hover': {\n                background: 'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)',\n              }\n            }}\n          >\n            Özel Konu Kullan\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Main Card */}\n      <Paper\n        elevation={6}\n        sx={{\n          width: '100%',\n          maxWidth: 1000,\n          borderRadius: 4,\n          overflow: 'hidden',\n          mt: { xs: 1, md: '15px' },\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)',\n          backdropFilter: 'blur(10px)',\n          border: '1px solid rgba(255, 255, 255, 0.2)',\n          boxShadow: '0 20px 40px rgba(0, 0, 0, 0.1)'\n        }}\n      >\n        {/* Gradient Header merged with card */}\n        <Box sx={{\n          background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n          color: '#fff',\n          p: { xs: 3, md: 4 },\n          textAlign: 'center',\n          position: 'relative',\n          overflow: 'hidden',\n          '&::before': {\n            content: '\"\"',\n            position: 'absolute',\n            inset: 0,\n            background: 'rgba(255,255,255,0.1)',\n            backdropFilter: 'blur(5px)',\n          }\n        }}>\n          <Box\n            sx={{\n              position: 'relative',\n              zIndex: 1,\n              minHeight: { xs: 56, md: 'auto' },\n              display: { xs: 'block', md: 'flex' },\n              alignItems: { md: 'center' },\n            }}\n          >\n            {/* Back button: fixed left on mobile, inline on md+ */}\n            <IconButton\n              onClick={() => navigate('/questions')}\n              sx={{\n                color: '#fff',\n                position: { xs: 'absolute', md: 'static' },\n                left: { xs: 8, md: 'auto' },\n                top: { xs: '50%', md: 'auto' },\n                transform: { xs: 'translateY(-50%)', md: 'none' },\n              }}\n              aria-label=\"Geri dön\"\n            >\n              <ArrowBackIcon />\n            </IconButton>\n\n            {/* Title: perfectly centered on mobile */}\n            <Typography\n              variant=\"h4\"\n              sx={{\n                fontWeight: 700,\n                textAlign: 'center',\n                position: { xs: 'absolute', md: 'static' },\n                left: { xs: '50%', md: 'auto' },\n                top: { xs: '50%', md: 'auto' },\n                transform: { xs: 'translate(-50%, -50%)', md: 'none' },\n                width: { xs: '80%', md: 'auto' },\n                fontSize: { xs: '1.35rem', md: '2rem' },\n                mx: { md: 'auto' },\n                whiteSpace: { xs: 'nowrap', md: 'normal' },\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n              }}\n            >\n              <AutoAwesomeIcon sx={{ mr: 1, verticalAlign: 'middle' }} /> AI Essay Değerlendirici\n            </Typography>\n          </Box>\n        </Box>\n\n        {/* Content */}\n        <Box sx={{ p: { xs: 3, md: 4 } }}>\n          {/* Selected Topic */}\n          {selectedTopic && (\n            <Box sx={{ mb: 3 }}>\n              <Typography variant=\"h6\" sx={{ mb: 1, color: '#00695c' }}>Seçilen Konu:</Typography>\n              <Paper sx={{ p: 2, background: 'rgba(0, 184, 148, 0.08)', border: '1px solid rgba(0, 184, 148, 0.25)', borderRadius: 2 }}>\n                <Typography variant=\"body1\" sx={{ fontStyle: 'italic' }}>\"{selectedTopic}\"</Typography>\n              </Paper>\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={() => setShowTopicDialog(true)}\n                sx={{\n                  mt: 1,\n                  borderColor: 'rgba(0, 184, 148, 0.5)',\n                  color: '#00796b',\n                  fontWeight: 600,\n                  textTransform: 'none',\n                  '&:hover': { borderColor: '#00b894', background: 'rgba(0, 184, 148, 0.08)' }\n                }}\n              >\n                Konu Değiştir\n              </Button>\n            </Box>\n          )}\n\n          {/* Layout */}\n          <Box sx={{ display: 'flex', flexDirection: evaluation ? 'row' : 'column', gap: 3, '@media (max-width: 900px)': { flexDirection: 'column' } }}>\n            {/* Writing Area */}\n            <Box sx={{ flex: evaluation ? 1 : 'auto', minWidth: 0 }}>\n              <Paper sx={{ p: 3, borderRadius: 3, background: 'rgba(255,255,255,0.9)', border: '1px solid rgba(0, 184, 148, 0.15)' }}>\n                <Box\n                  sx={{\n                    display: 'flex',\n                    flexDirection: { xs: 'column', sm: 'row' },\n                    justifyContent: { xs: 'flex-start', sm: 'space-between' },\n                    alignItems: { xs: 'flex-start', sm: 'center' },\n                    mb: 1.5,\n                    gap: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"h6\"\n                    sx={{ fontWeight: 600, color: '#2c3e50', whiteSpace: { xs: 'nowrap', sm: 'normal' } }}\n                  >\n                    Essay Yazma Alanı\n                  </Typography>\n                  <Box sx={{ display: 'flex', gap: 1, alignItems: 'center', mt: { xs: 0.5, sm: 0 } }}>\n                    <Chip \n                      label={`${wordCount} kelime`}\n                      sx={{\n                        borderColor: 'rgba(0, 184, 148, 0.4)',\n                        color: '#00695c',\n                        fontWeight: 600\n                      }}\n                      variant=\"outlined\"\n                    />\n                    <Chip \n                      label={`${charCount} karakter`}\n                      sx={{\n                        borderColor: 'rgba(0, 184, 148, 0.4)',\n                        color: '#00695c',\n                        fontWeight: 600\n                      }}\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                </Box>\n                <Typography variant=\"caption\" sx={{ display: 'block', mb: 1.5, color: '#607d8b' }}>\n                  Kelime sayısı yalnızca bilgilendirme amaçlıdır; herhangi bir sınırlama yoktur.\n                </Typography>\n\n                <TextField\n                  fullWidth\n                  multiline\n                  rows={20}\n                  value={essayText}\n                  onChange={handleEssayChange}\n                  placeholder=\"Essay’inizi buraya yazınız...\"\n                  variant=\"outlined\"\n                  sx={{\n                    mb: 1,\n                    '& .MuiInputBase-root': { background: 'rgba(255,255,255,0.95)' },\n                    '& .MuiInputBase-input': { fontSize: '16px', lineHeight: 1.6 }\n                  }}\n                />\n\n                <Typography variant=\"body2\" sx={{ mb: 1, fontWeight: 600, color: charCount < 100 ? '#e53935' : '#2e7d32' }}>\n                  Essay’inizin değerlendirilebilmesi için minimum 100 karakter olmalıdır.\n                </Typography>\n                <Typography variant=\"body2\" sx={{ mb: 2, color: '#00695c' }}>\n                  İpucu: Ortalama bilgilendirici bir essay için <strong>170–190 kelime</strong> aralığı idealdir (zorunlu değildir).\n                </Typography>\n\n                {error && (\n                  <Alert severity=\"error\" sx={{ mb: 2 }}>\n                    {error}\n                  </Alert>\n                )}\n\n\n                <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n                  <Button\n                    variant=\"contained\"\n                    onClick={evaluateEssay}\n                    disabled={isEvaluating || charCount < 100}\n                    startIcon={isEvaluating ? null : <SendIcon />}\n                    sx={{\n                      background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n                      color: '#fff',\n                      fontWeight: 700,\n                      borderRadius: 2,\n                      px: 3,\n                      textTransform: 'none',\n                      '&:hover': { background: 'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)' }\n                    }}\n                  >\n                    {isEvaluating ? 'Değerlendiriliyor...' : \"Essay'i Değerlendir\"}\n                  </Button>\n\n                  <Button\n                    variant=\"outlined\"\n                    onClick={resetEssay}\n                    disabled={isEvaluating}\n                    sx={{\n                      borderColor: 'rgba(0, 184, 148, 0.5)',\n                      color: '#00796b',\n                      fontWeight: 600,\n                      textTransform: 'none',\n                      '&:hover': { borderColor: '#00b894', background: 'rgba(0, 184, 148, 0.08)' }\n                    }}\n                  >\n                    Yeni Essay\n                  </Button>\n                </Box>\n\n                {/* Blocking popup if Turkish character count exceeds 10 */}\n                <Dialog open={showLangDialog} onClose={() => setShowLangDialog(false)} maxWidth=\"xs\" fullWidth>\n                  <DialogTitle>Essay Dili Hakkında</DialogTitle>\n                  <DialogContent>\n                    <Typography>\n                      Metninizde <strong>{turkishCharCount}</strong> adet Türkçe karakter tespit edildi. Lütfen essay’i İngilizce yazın.\n                    </Typography>\n                  </DialogContent>\n                  <DialogActions>\n                    <Button onClick={() => setShowLangDialog(false)} autoFocus>\n                      Tamam\n                    </Button>\n                  </DialogActions>\n                </Dialog>\n\n                {isEvaluating && (\n                  <Box sx={{ mt: 2 }}>\n                    <LinearProgress sx={{\n                      height: 8,\n                      borderRadius: 4,\n                      bgcolor: 'rgba(0, 184, 148, 0.1)',\n                      '& .MuiLinearProgress-bar': { background: 'linear-gradient(90deg, #00b894 0%, #00cec9 100%)' }\n                    }} />\n                    <Typography variant=\"body2\" sx={{ mt: 1, textAlign: 'center', color: '#00695c' }}>\n                      AI essay'inizi analiz ediyor...\n                    </Typography>\n                  </Box>\n                )}\n              </Paper>\n            </Box>\n\n            {/* Evaluation Results */}\n            {evaluation && (\n              <Box sx={{ flex: 1, minWidth: 0 }}>\n                <Paper sx={{ p: 3, borderRadius: 3, background: 'rgba(255,255,255,0.9)', border: '1px solid rgba(0, 184, 148, 0.15)' }}>\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 3, color: '#2c3e50' }}>\n                    <AutoAwesomeIcon sx={{ mr: 1 }} /> AI Değerlendirme Sonucu\n                  </Typography>\n\n                  {/* Overall Score */}\n                  <Card sx={{ mb: 3, background: 'rgba(0, 184, 148, 0.06)', border: '1px solid rgba(0, 184, 148, 0.15)' }}>\n                    <CardContent sx={{ textAlign: 'center' }}>\n                      <Typography variant=\"h4\" sx={{ fontWeight: 700, color: getScoreColor(evaluation.scores.overall, true), mb: 1 }}>\n                        {evaluation.scores.overall}/100\n                      </Typography>\n                      <Typography variant=\"h6\" sx={{ color: '#666' }}>Genel Puan</Typography>\n                      <Chip \n                        label={getScoreLabel(evaluation.scores.overall, true)}\n                        sx={{ bgcolor: getScoreColor(evaluation.scores.overall, true), color: 'white', fontWeight: 600, mt: 1 }}\n                      />\n                    </CardContent>\n                  </Card>\n\n                  {/* Detailed Scores */}\n                  <Box sx={{ mb: 3 }}>\n                    <Typography variant=\"h6\" sx={{ mb: 2 }}>\n                      Detaylı Puanlama:\n                    </Typography>\n                    \n                    {[\n                      { key: 'task_response', label: 'Görev Yanıtı' },\n                      { key: 'coherence_cohesion', label: 'Tutarlılık & Bağlantı' },\n                      { key: 'lexical_resource', label: 'Kelime Bilgisi' },\n                      { key: 'grammar', label: 'Dilbilgisi' }\n                    ].map(({ key, label }) => {\n                      const score = evaluation.scores[key as keyof EssayScores];\n                      return (\n                        <Box key={key} sx={{ mb: 2 }}>\n                          <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n                            <Typography variant=\"body1\">{label}</Typography>\n                            <Typography \n                              variant=\"body1\" \n                              sx={{ \n                                fontWeight: 600,\n                                color: getScoreColor(score)\n                              }}\n                            >\n                              {score}/9\n                            </Typography>\n                          </Box>\n                          <LinearProgress\n                            variant=\"determinate\"\n                            value={(score / 9) * 100}\n                            sx={{\n                              height: 8,\n                              borderRadius: 4,\n                              bgcolor: '#e0e0e0',\n                              '& .MuiLinearProgress-bar': {\n                                bgcolor: getScoreColor(score),\n                                borderRadius: 4\n                              }\n                            }}\n                          />\n                        </Box>\n                      );\n                    })}\n                  </Box>\n\n                  {/* Feedback */}\n                  <Box>\n                    <Typography variant=\"h6\" sx={{ mb: 2 }}>\n                      AI Geri Bildirim:\n                    </Typography>\n                    <Paper sx={{ p: 2, bgcolor: '#f8f9fa', border: '1px solid #e0e0e0' }}>\n                      {feedbackBullets.length <= 1 ? (\n                        <Typography variant=\"body1\" sx={{ lineHeight: 1.7 }}>\n                          {evaluation.feedback}\n                        </Typography>\n                      ) : (\n                        <Box component=\"ul\" sx={{ m: 0, pl: 3 }}>\n                          {feedbackBullets.map((b, idx) => (\n                            <Box component=\"li\" key={idx} sx={{ mb: 1.2 }}>\n                              <Typography variant=\"body1\" sx={{ lineHeight: 1.7 }}>{b}</Typography>\n                            </Box>\n                          ))}\n                        </Box>\n                      )}\n                    </Paper>\n                  </Box>\n                </Paper>\n              </Box>\n            )}\n          </Box>\n        </Box>\n      </Paper>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}