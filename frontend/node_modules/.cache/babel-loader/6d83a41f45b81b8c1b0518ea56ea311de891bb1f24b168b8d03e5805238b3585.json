{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Box,Chip,LinearProgress,Typography,Tooltip}from'@mui/material';import{API_URL}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=['#00b894','#0984e3','#fdcb6e','#e17055','#6c5ce7','#00cec9'];const TopicPreview=_ref=>{let{category,series,categoryId,seriesId}=_ref;const[loading,setLoading]=useState(true);const[topics,setTopics]=useState([]);const[grammar,setGrammar]=useState(null);const[total,setTotal]=useState(0);const[error,setError]=useState(null);const[difficultyOverall,setDifficultyOverall]=useState(null);useEffect(()=>{const params=new URLSearchParams();// If seriesId is known, use only seriesId to prevent general mixing\nif(seriesId){params.set('seriesId',String(seriesId));}else{if(category)params.set('category',category);if(series)params.set('series',series);if(categoryId)params.set('categoryId',String(categoryId));}if(!seriesId)params.set('limit','60');setLoading(true);fetch(`${API_URL}/api/topics/preview?${params.toString()}`).then(async r=>{// Be tolerant to wrong content-type: parse as text first\nconst text=await r.text();if(!r.ok)throw new Error(`status ${r.status}`);let json=null;try{json=JSON.parse(text);}catch{const m=text.match(/\\{[\\s\\S]*\\}/);if(m)json=JSON.parse(m[0]);else throw new Error('JSON parse error');}return json;}).then(json=>{var _json$difficulty;setTopics(json.topics||[]);setGrammar(json.grammar||null);setTotal(json.total||0);setDifficultyOverall(((_json$difficulty=json.difficulty)===null||_json$difficulty===void 0?void 0:_json$difficulty.overall)||null);setLoading(false);}).catch(e=>{setError('öngörü alınamadı');setLoading(false);});},[category,series,categoryId,seriesId]);if(loading){return/*#__PURE__*/_jsx(Box,{sx:{mt:1},children:/*#__PURE__*/_jsx(LinearProgress,{sx:{height:6,borderRadius:3,bgcolor:'rgba(0,0,0,0.06)','& .MuiLinearProgress-bar':{bgcolor:'#00b894'}}})});}const useItems=(grammar&&grammar.length?grammar:topics)||[];if(error||!useItems.length)return null;const trMap={'vocabulary':'Kelime Bilgisi','pronouns':'Zamirler','prepositions':'Edatlar','question forms':'Soru Cümleleri','tenses':'Zamanlar','conditionals':'Koşul Cümleleri','articles':'Tanımlıklar','modal verbs':'Yardımcı Fiiller','passive voice':'Edilgen Çatı','comparatives/superlatives':'Karşılaştırma/Üstünlük','gerund/infinitive':'Fiilimsi/Yalın Fiil','relative clauses':'İlgi Cümleleri','phrasal verbs':'Deyimsel Fiiller','reading':'Okuma','grammar':'Dilbilgisi','general':'Genel'};const labelTR=name=>{const key=name.toLowerCase();const tr=trMap[key];return tr?`${name} (${tr})`:name;};const diffChip=(()=>{if(!difficultyOverall)return null;const diff=(difficultyOverall||'').toString().toLowerCase();let bg='#90caf9',fg='#083a6b',bd='#64b5f6';// orta -> blue\nif(diff.includes('kolay')){bg='#fff3cd';fg='#5d4037';bd='#ffe082';}if(diff.includes('zor')){bg='#ffcdd2';fg='#8a1c1c';bd='#ef9a9a';}return/*#__PURE__*/_jsx(Chip,{size:\"small\",\"aria-label\":`Zorluk: ${diff}`,label:`Zorluk: ${diff}`,sx:{bgcolor:bg,color:fg,border:`1px solid ${bd}`}});})();return/*#__PURE__*/_jsxs(Box,{sx:{mt:1.25},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,flexWrap:'wrap',mb:1,alignItems:'center'},children:[diffChip,useItems.slice(0,4).map((t,i)=>{var _t$percentage;return/*#__PURE__*/_jsx(Chip,{size:\"small\",label:`${labelTR(t.name)} • ${(_t$percentage=t.percentage)!==null&&_t$percentage!==void 0?_t$percentage:Math.round(t.count/(total||1)*100)}% • ${t.count} soru`,sx:{bgcolor:`${COLORS[i%COLORS.length]}22`,color:'#004d40',border:`1px solid ${COLORS[i%COLORS.length]}55`}},t.name);})]}),(()=>{// Build exact percentage segments by count/total and ensure full 100% fill\nconst items=useItems.filter(it=>{var _it$count;return((_it$count=it.count)!==null&&_it$count!==void 0?_it$count:0)>0;});const segs=items.map((t,i)=>({name:t.name,count:t.count,pct:total>0?t.count/total*100:0,color:COLORS[i%COLORS.length]}));const knownCount=segs.reduce((a,s)=>a+s.count,0);if(total>knownCount){// Add an explicit remainder segment so the bar never stays colorless\nconst otherCount=total-knownCount;segs.push({name:'__other__',count:otherCount,pct:otherCount/total*100,color:'#90a4ae'});}const sum=segs.reduce((a,s)=>a+s.pct,0);if(segs.length&&sum!==100){// Assign floating remainder (or deficit) to the last visible segment\nsegs[segs.length-1].pct+=100-sum;}return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',height:8,borderRadius:6,overflow:'hidden',bgcolor:'rgba(0,0,0,0.06)'},children:segs.map(s=>{const pctRoundedForLabel=Math.round(s.count/(total||1)*100);const label=s.name==='__other__'?`Diğer`:labelTR(s.name);return/*#__PURE__*/_jsx(Tooltip,{title:`${label}: ${pctRoundedForLabel}% (${s.count})`,children:/*#__PURE__*/_jsx(Box,{sx:{width:`${s.pct}%`,bgcolor:s.color}})},s.name);})});})(),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:'#546e7a'},children:[total,\" sorudan \\xF6ng\\xF6r\\xFC\"]})]});};export default TopicPreview;","map":{"version":3,"names":["React","useEffect","useState","Box","Chip","LinearProgress","Typography","Tooltip","API_URL","jsx","_jsx","jsxs","_jsxs","COLORS","TopicPreview","_ref","category","series","categoryId","seriesId","loading","setLoading","topics","setTopics","grammar","setGrammar","total","setTotal","error","setError","difficultyOverall","setDifficultyOverall","params","URLSearchParams","set","String","fetch","toString","then","r","text","ok","Error","status","json","JSON","parse","m","match","_json$difficulty","difficulty","overall","catch","e","sx","mt","children","height","borderRadius","bgcolor","useItems","length","trMap","labelTR","name","key","toLowerCase","tr","diffChip","diff","bg","fg","bd","includes","size","label","color","border","display","gap","flexWrap","mb","alignItems","slice","map","t","i","_t$percentage","percentage","Math","round","count","items","filter","it","_it$count","segs","pct","knownCount","reduce","a","s","otherCount","push","sum","overflow","pctRoundedForLabel","title","width","variant"],"sources":["/Users/yavuz/Desktop/portfolio/erasmus-exam-page/frontend/src/components/TopicPreview.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Box, Chip, LinearProgress, Typography, Tooltip } from '@mui/material';\nimport { API_URL } from '../utils/api';\n\ntype Topic = { name: string; count: number; percentage?: number };\n\ninterface Props {\n  category?: string; // A1, A2, ... or id\n  series?: string; // Erasmus, Genel İngilizce ... or id\n  categoryId?: number;\n  seriesId?: string;\n}\n\nconst COLORS = ['#00b894', '#0984e3', '#fdcb6e', '#e17055', '#6c5ce7', '#00cec9'];\n\nconst TopicPreview: React.FC<Props> = ({ category, series, categoryId, seriesId }) => {\n  const [loading, setLoading] = useState(true);\n  const [topics, setTopics] = useState<Topic[]>([]);\n  const [grammar, setGrammar] = useState<Topic[] | null>(null);\n  const [total, setTotal] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n  const [difficultyOverall, setDifficultyOverall] = useState<string | null>(null);\n\n  useEffect(() => {\n    const params = new URLSearchParams();\n    // If seriesId is known, use only seriesId to prevent general mixing\n    if (seriesId) {\n      params.set('seriesId', String(seriesId));\n    } else {\n      if (category) params.set('category', category);\n      if (series) params.set('series', series);\n      if (categoryId) params.set('categoryId', String(categoryId));\n    }\n    if (!seriesId) params.set('limit', '60');\n\n  setLoading(true);\n  fetch(`${API_URL}/api/topics/preview?${params.toString()}`)\n      .then(async (r) => {\n        // Be tolerant to wrong content-type: parse as text first\n        const text = await r.text();\n        if (!r.ok) throw new Error(`status ${r.status}`);\n        let json: any = null;\n        try { json = JSON.parse(text); }\n        catch {\n          const m = text.match(/\\{[\\s\\S]*\\}/);\n          if (m) json = JSON.parse(m[0]);\n          else throw new Error('JSON parse error');\n        }\n        return json;\n      })\n      .then(json => {\n        setTopics(json.topics || []);\n        setGrammar(json.grammar || null);\n        setTotal(json.total || 0);\n        setDifficultyOverall(json.difficulty?.overall || null);\n        setLoading(false);\n      })\n      .catch((e) => {\n        setError('öngörü alınamadı');\n        setLoading(false);\n      });\n  }, [category, series, categoryId, seriesId]);\n\n  if (loading) {\n    return (\n      <Box sx={{ mt: 1 }}>\n        <LinearProgress sx={{ height: 6, borderRadius: 3, bgcolor: 'rgba(0,0,0,0.06)', '& .MuiLinearProgress-bar': { bgcolor: '#00b894' } }} />\n      </Box>\n    );\n  }\n  const useItems: Topic[] = (grammar && grammar.length ? grammar : topics) || [];\n  if (error || !useItems.length) return null;\n\n  const trMap: Record<string, string> = {\n    'vocabulary': 'Kelime Bilgisi',\n    'pronouns': 'Zamirler',\n    'prepositions': 'Edatlar',\n    'question forms': 'Soru Cümleleri',\n    'tenses': 'Zamanlar',\n    'conditionals': 'Koşul Cümleleri',\n    'articles': 'Tanımlıklar',\n    'modal verbs': 'Yardımcı Fiiller',\n    'passive voice': 'Edilgen Çatı',\n    'comparatives/superlatives': 'Karşılaştırma/Üstünlük',\n    'gerund/infinitive': 'Fiilimsi/Yalın Fiil',\n    'relative clauses': 'İlgi Cümleleri',\n    'phrasal verbs': 'Deyimsel Fiiller',\n    'reading': 'Okuma',\n    'grammar': 'Dilbilgisi',\n    'general': 'Genel',\n  };\n  const labelTR = (name: string) => {\n    const key = name.toLowerCase();\n    const tr = trMap[key];\n    return tr ? `${name} (${tr})` : name;\n  };\n\n  const diffChip = (() => {\n    if (!difficultyOverall) return null;\n    const diff = (difficultyOverall || '').toString().toLowerCase();\n    let bg = '#90caf9', fg = '#083a6b', bd = '#64b5f6'; // orta -> blue\n    if (diff.includes('kolay')) { bg = '#fff3cd'; fg = '#5d4037'; bd = '#ffe082'; }\n    if (diff.includes('zor')) { bg = '#ffcdd2'; fg = '#8a1c1c'; bd = '#ef9a9a'; }\n    return (\n      <Chip\n        size=\"small\"\n        aria-label={`Zorluk: ${diff}`}\n        label={`Zorluk: ${diff}`}\n        sx={{ bgcolor: bg, color: fg, border: `1px solid ${bd}` }}\n      />\n    );\n  })();\n\n  return (\n    <Box sx={{ mt: 1.25 }}>\n      <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mb: 1, alignItems: 'center' }}>\n        {diffChip}\n        {useItems.slice(0, 4).map((t, i) => (\n          <Chip key={t.name}\n            size=\"small\"\n            label={`${labelTR(t.name)} • ${t.percentage ?? Math.round((t.count/(total||1))*100)}% • ${t.count} soru`}\n            sx={{ bgcolor: `${COLORS[i % COLORS.length]}22`, color: '#004d40', border: `1px solid ${COLORS[i % COLORS.length]}55` }}\n          />\n        ))}\n      </Box>\n      {(() => {\n        // Build exact percentage segments by count/total and ensure full 100% fill\n        const items = useItems.filter(it => (it.count ?? 0) > 0);\n        const segs = items.map((t, i) => ({\n          name: t.name,\n          count: t.count,\n          pct: total > 0 ? (t.count / total) * 100 : 0,\n          color: COLORS[i % COLORS.length],\n        }));\n        const knownCount = segs.reduce((a, s) => a + s.count, 0);\n        if (total > knownCount) {\n          // Add an explicit remainder segment so the bar never stays colorless\n          const otherCount = total - knownCount;\n          segs.push({ name: '__other__', count: otherCount, pct: (otherCount / total) * 100, color: '#90a4ae' });\n        }\n        const sum = segs.reduce((a, s) => a + s.pct, 0);\n        if (segs.length && sum !== 100) {\n          // Assign floating remainder (or deficit) to the last visible segment\n          segs[segs.length - 1].pct += (100 - sum);\n        }\n        return (\n          <Box sx={{ display: 'flex', height: 8, borderRadius: 6, overflow: 'hidden', bgcolor: 'rgba(0,0,0,0.06)' }}>\n            {segs.map((s) => {\n              const pctRoundedForLabel = Math.round((s.count / (total || 1)) * 100);\n              const label = s.name === '__other__' ? `Diğer` : labelTR(s.name);\n              return (\n                <Tooltip key={s.name} title={`${label}: ${pctRoundedForLabel}% (${s.count})`}>\n                  <Box sx={{ width: `${s.pct}%`, bgcolor: s.color }} />\n                </Tooltip>\n              );\n            })}\n          </Box>\n        );\n      })()}\n      <Typography variant=\"caption\" sx={{ color: '#546e7a' }}>{total} sorudan öngörü</Typography>\n    </Box>\n  );\n};\n\nexport default TopicPreview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}