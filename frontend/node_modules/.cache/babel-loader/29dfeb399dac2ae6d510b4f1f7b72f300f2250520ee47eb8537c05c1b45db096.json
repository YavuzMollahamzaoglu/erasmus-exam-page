{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{useNavigate}from'react-router-dom';import{Box,Paper,Typography,Button}from'@mui/material';import TopicPreview from'../components/TopicPreview';import TopicPreviewDialog from'../components/TopicPreviewDialog';// Default images (place your provided images under public/assets with these names)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DEFAULT_IMG={genel:'/assets/genel-ingilizce.jpg',erasmus:'/assets/erasmus-exam.jpg',uni:'/assets/university-prep.jpg'};// Fallback images (kept local to avoid large external requests)\n// Drop your own files into public/assets with these exact names or update the paths here.\nconst FALLBACK_IMG={genel:'/assets/genel-ingilizce.jpg',erasmus:'/assets/erasmus-exam.jpg',uni:'/assets/university-prep.jpg'};// Normalize TR text and map test names to default images\nconst normalizeTR=s=>s.toLocaleLowerCase('tr-TR').normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');// Fix common Turkish diacritic issues in titles coming from DB (e.g., Ingilizce -> İngilizce, Universite -> Üniversite, Sinavi -> Sınavı)\nconst fixTurkish=title=>{let t=title;t=t.replace(/genel\\s+ingilizce/gi,'Genel İngilizce');t=t.replace(/ingilizce/gi,'İngilizce');t=t.replace(/universite/gi,'Üniversite');t=t.replace(/hazirlik/gi,'Hazırlık');t=t.replace(/sinavi/gi,'Sınavı');// Ensure title-case for the whole string (basic)\nt=t.split(/\\s+/).map(w=>w.charAt(0).toLocaleUpperCase('tr-TR')+w.slice(1)).join(' ');return t.trim();};const getCardImage=(name,fallback)=>{const n=normalizeTR(name);if(n.includes('genel ingilizce'))return DEFAULT_IMG.genel;if(n.includes('erasmus'))return DEFAULT_IMG.erasmus;if(n.includes('universite'))return DEFAULT_IMG.uni;// üniversite -> universite after normalize\nreturn fallback;};// Type for test objects\n// Hardcoded test data grouped by category and type (A1/A2/B1/B2, 3 sınav türü)\nconst testData={A1:{'Erasmus Sınavı 1':[{id:'dynamic-a1',name:'Erasmus Sınavı 1',description:'A1 seviyesinde Erasmus Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1506744038136-46273834b3fb',isDynamic:true}],'Genel İngilizce 1':[{id:'a1-genel',name:'Genel İngilizce 1',description:'A1 seviyesinde Genel İngilizce 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1519125323398-675f0ddb6308'}],'Üniversite Hazırlık Sınavı 2':[{id:'a1-uni-2',name:'Üniversite Hazırlık Sınavı 2',description:'A1 seviyesinde Üniversite Hazırlık Sınavı 2 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1464983953574-0892a716854b'}],'Üniversite Hazırlık Sınavı 1':[{id:'a1-uni',name:'Üniversite Hazırlık Sınavı 1',description:'A1 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1464983953574-0892a716854b'}]},A2:{'Erasmus Sınavı 1':[{id:'dynamic',name:'Erasmus Sınavı 1',description:'A2 Testlerine Erasmus Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1506744038136-46273834b3fb',isDynamic:true}],'Genel İngilizce 1':[{id:'a2-genel',name:'Genel İngilizce 1',description:'A2 seviyesinde Genel İngilizce 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1519125323398-675f0ddb6308'}],'Üniversite Hazırlık Sınavı 2':[{id:'a2-uni-2',name:'Üniversite Hazırlık Sınavı 2',description:'A2 seviyesinde Üniversite Hazırlık Sınavı 2 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1464983953574-0892a716854b'}],'Üniversite Hazırlık Sınavı 1':[{id:'a2-uni',name:'Üniversite Hazırlık Sınavı 1',description:'A2 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1464983953574-0892a716854b'}]},B1:{'Erasmus Sınavı 1':[{id:'dynamic-b1',name:'Erasmus Sınavı 1',description:'B1 Testlerine Erasmus Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1506744038136-46273834b3fb',isDynamic:true}],'Genel İngilizce 1':[{id:'b1-genel',name:'Genel İngilizce 1',description:'B1 seviyesinde Genel İngilizce 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1519125323398-675f0ddb6308'}],'Üniversite Hazırlık Sınavı 1':[{id:'b1-uni',name:'Üniversite Hazırlık Sınavı 1',description:'B1 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1464983953574-0892a716854b'}]},B2:{'Erasmus Sınavı 1':[{id:'dynamic-b2',name:'Erasmus Sınavı 1',description:'B2 Testlerine Erasmus Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1506744038136-46273834b3fb',isDynamic:true}],'Genel İngilizce 1':[{id:'b2-genel',name:'Genel İngilizce 1',description:'B2 seviyesinde Genel İngilizce 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1519125323398-675f0ddb6308'}],'Üniversite Hazırlık Sınavı 1':[{id:'b2-uni',name:'Üniversite Hazırlık Sınavı 1',description:'B2 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',img:'https://images.unsplash.com/photo-1464983953574-0892a716854b'}]}};const categoryTitles={A1:'A1 Testleri',A2:'A2 Testleri',B1:'B1 Testleri',B2:'B2 Testleri'};const Categories=()=>{const navigate=useNavigate();const API_URL=process.env.REACT_APP_API_URL||'http://localhost:4000';const[serverOnline,setServerOnline]=useState(true);const[checking,setChecking]=useState(false);const[preview,setPreview]=useState(()=>({open:false}));const[seriesList,setSeriesList]=useState([]);// Find a QuestionSeries by combining level (categoryKey) and test name, return its id\nconst resolveSeriesId=async(categoryKey,testName)=>{try{const res=await fetch(`${API_URL}/api/series`,{cache:'no-store'});if(!res.ok)return null;const list=await res.json();const norm=s=>s.toLocaleLowerCase('tr-TR').normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');const target=norm(`${categoryKey} ${testName}`);// Prefer startsWith match, else contains\nconst exact=list.find(s=>norm(s.name).startsWith(target));if(exact)return exact.id;const contains=list.find(s=>norm(s.name).includes(target));return contains?contains.id:null;}catch{return null;}};// Try to find seriesId locally from already-fetched seriesList\nconst findSeriesIdLocal=(categoryKey,testName)=>{if(!seriesList.length)return null;const norm=s=>s.toLocaleLowerCase('tr-TR').normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');const target=norm(`${categoryKey} ${testName}`);const exact=seriesList.find(s=>norm(s.name).startsWith(target));if(exact)return exact.id;const contains=seriesList.find(s=>norm(s.name).includes(target));return contains?contains.id:null;};const checkHealth=async()=>{setChecking(true);try{const res=await fetch(`${API_URL}/health`,{cache:'no-store'});setServerOnline(res.ok);}catch(e){setServerOnline(false);}finally{setChecking(false);}};useEffect(()=>{checkHealth();},[]);// Fetch QuestionSeries list to bind cards to real series IDs\nuseEffect(()=>{const fetchSeries=async()=>{try{const res=await fetch(`${API_URL}/api/series`,{cache:'no-store'});if(!res.ok)return;const data=await res.json();if(Array.isArray(data))setSeriesList(data);}catch{}};fetchSeries();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const dynamicData=useMemo(()=>{if(!seriesList.length)return null;const byLevel={A1:{},A2:{},B1:{},B2:{}};const ensure=(lvl,key)=>byLevel[lvl][key]=byLevel[lvl][key]||[];const norm=s=>s.toLocaleLowerCase('tr-TR').normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');const typeFrom=name=>{const n=norm(name);if(n.includes('erasmus'))return'Erasmus Sınavı 1';if(n.includes('universite')||n.includes('hazirlik'))return'Üniversite Hazırlık Sınavı 1';if(n.includes('genel ingilizce'))return'Genel İngilizce 1';return'Diğer';};for(const s of seriesList){const m=s.name.match(/^(A1|A2|B1|B2)\\b/i);if(!m)continue;const lvl=m[0].toUpperCase();const key=typeFrom(s.name);const displayRaw=s.name.replace(/^\\s*(A1|A2|B1|B2)\\s*/i,'').trim()||key;const display=fixTurkish(displayRaw);ensure(lvl,key).push({id:s.id,name:display,description:`${lvl} seviyesinde ${key} soruları için tıklayın.`,img:getCardImage(key,DEFAULT_IMG.erasmus)});}return byLevel;},[seriesList]);// Merge backend series (if any) with fallback hardcoded test data so missing types still show (e.g., Genel İngilizce 2)\nconst finalData=useMemo(()=>{if(!dynamicData)return testData;const levels=['A1','A2','B1','B2'];const merged={A1:{},A2:{},B1:{},B2:{}};for(const lvl of levels){const dynLevel=dynamicData[lvl]||{};const tdLevel=testData[lvl]||{};// Start with dynamic (real series) so they take precedence\nmerged[lvl]={...dynLevel};// Add any missing categories from fallback test data\nfor(const[typeKey,list]of Object.entries(tdLevel)){if(!merged[lvl][typeKey])merged[lvl][typeKey]=list;}}return merged;},[dynamicData]);return/*#__PURE__*/_jsxs(Box,{sx:{minHeight:'100vh',background:'#b2dfdb',px:2,display:'flex',flexDirection:'column',alignItems:'center',pb:{xs:12,md:16},pt:0},children:[!serverOnline&&/*#__PURE__*/_jsxs(Box,{sx:{bgcolor:'#ffebee',color:'#c62828',p:2,borderRadius:2,mt:2,width:'100%',maxWidth:900},children:[/*#__PURE__*/_jsx(Typography,{fontWeight:700,children:\"Sunucu \\xE7evrimd\\u0131\\u015F\\u0131\"}),/*#__PURE__*/_jsx(Typography,{fontSize:14,children:\"L\\xFCtfen backend'i ba\\u015Flat\\u0131n ve tekrar deneyin.\"}),/*#__PURE__*/_jsx(Box,{sx:{mt:1},children:/*#__PURE__*/_jsx(\"span\",{style:{cursor:'pointer',textDecoration:'underline'},onClick:checkHealth,children:checking?'Kontrol ediliyor...':'Tekrar Dene'})})]}),/*#__PURE__*/_jsxs(Paper,{elevation:6,sx:{maxWidth:1200,width:'100%',borderRadius:4,overflow:'hidden',mt:{xs:1,md:'15px'},background:'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',boxShadow:'0 20px 40px rgba(0, 0, 0, 0.1)',transition:'transform 0.3s ease'},children:[/*#__PURE__*/_jsx(Box,{sx:{background:'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',color:'#fff',p:{xs:3,md:4},borderTopLeftRadius:'inherit',borderTopRightRadius:'inherit',borderBottomLeftRadius:0,borderBottomRightRadius:0,textAlign:'center',position:'relative',overflow:'hidden','&::before':{content:'\"\"',position:'absolute',top:0,left:0,right:0,bottom:0,background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(5px)',zIndex:0}},children:/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',zIndex:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",fontWeight:700,mb:1,sx:{textShadow:'0 4px 8px rgba(0, 0, 0, 0.2)',fontSize:{xs:'2rem',md:'2.5rem'}},children:\"S\\u0131nav Kategorileri\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{opacity:0.9,mb:2},children:\"Seviyene ve kategorine uygun testi se\\xE7\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{opacity:1,fontSize:{xs:'0.95rem',md:'1.05rem'},lineHeight:1.7,maxWidth:900,mx:'auto',fontWeight:500,color:'rgba(255, 255, 255, 0.95)',textShadow:'0 1px 2px rgba(0, 0, 0, 0.3)',mt:2},children:\"Baz\\u0131 testlerde 4, baz\\u0131lar\\u0131nda 5 se\\xE7enekli sorular bulunabilir ve bu durum \\xFCniversite s\\u0131navlar\\u0131ndaki \\xE7e\\u015Fitlili\\u011Fi yans\\u0131tmaktad\\u0131r. Genel \\u0130ngilizce testleri ayn\\u0131 zamanda akademik \\u0130ngilizce s\\u0131navlar\\u0131na uygun i\\xE7erik sunar ve sorular genel olarak kelime bilgisi ile gramer konular\\u0131n\\u0131 \\xF6l\\xE7mektedir. S\\u0131navlar\\u0131n kendi seviyesinde zorluk dereceleri de\\u011Fi\\u015Fmektedir. Her testten \\xF6nce \\xF6n izlemeyi inceleyerek nelerle kar\\u015F\\u0131la\\u015Faca\\u011F\\u0131n\\u0131z hakk\\u0131nda bilgi alabilirsiniz.\"})]})}),/*#__PURE__*/_jsx(Box,{sx:{p:{xs:3,md:5}},children:Object.entries(finalData).map(_ref=>{let[categoryKey,types]=_ref;return/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:800,mb:2,sx:{color:'#00695c'},children:categoryTitles[categoryKey]}),/*#__PURE__*/_jsx(Box,{sx:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:3},children:Object.entries(types).map(_ref2=>{let[typeKey,tests]=_ref2;return/*#__PURE__*/_jsx(React.Fragment,{children:tests.map(test=>{// When no backend series yet, render dynamic placeholder cards for Erasmus only\nif(!dynamicData&&test.isDynamic){if(test.id==='dynamic')return/*#__PURE__*/_jsx(DynamicA2Card,{serverOnline:serverOnline,onCheck:checkHealth,checking:checking,onPreview:(cat,ser)=>setPreview({open:true,category:cat,series:ser})},String(test.id));if(test.id==='dynamic-a1')return/*#__PURE__*/_jsx(DynamicA1Card,{serverOnline:serverOnline,onCheck:checkHealth,checking:checking,onPreview:(cat,ser)=>setPreview({open:true,category:cat,series:ser})},String(test.id));if(test.id==='dynamic-b1')return/*#__PURE__*/_jsx(DynamicB1Card,{serverOnline:serverOnline,onCheck:checkHealth,checking:checking,onPreview:(cat,ser)=>setPreview({open:true,category:cat,series:ser})},String(test.id));if(test.id==='dynamic-b2')return/*#__PURE__*/_jsx(DynamicB2Card,{serverOnline:serverOnline,onCheck:checkHealth,checking:checking,onPreview:(cat,ser)=>setPreview({open:true,category:cat,series:ser})},String(test.id));return null;}// Otherwise render a normal series-bound card (test.id is seriesId when dynamicData exists)\nreturn/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',background:'rgba(255, 255, 255, 0.9)',border:'1px solid rgba(0, 184, 148, 0.2)',borderRadius:3,boxShadow:'0 6px 20px rgba(0,0,0,0.08)',p:2.5,cursor:'pointer',transition:'transform 0.3s ease, box-shadow 0.3s ease','&:hover':{boxShadow:'0 12px 30px rgba(0,0,0,0.12)',transform:'translateY(-3px)'}},role:\"button\",tabIndex:0,\"aria-label\":`${categoryKey} ${test.name} kartı, tıklayın`,onClick:async()=>{// Always try to resolve to a real series id (local first, then network)\nconst localId=findSeriesIdLocal(categoryKey,String(test.name));const sid=localId||(await resolveSeriesId(categoryKey,String(test.name)));if(sid){navigate(`/exam/${sid}`);}else{// If not resolvable yet, open preview as a graceful fallback\nsetPreview({open:true,category:categoryKey,series:String(test.name).replace(/\\s*\\d+$/,'')});}},onKeyDown:async e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();const localId=findSeriesIdLocal(categoryKey,String(test.name));const sid=localId||(await resolveSeriesId(categoryKey,String(test.name)));if(sid)navigate(`/exam/${sid}`);else setPreview({open:true,category:categoryKey,series:String(test.name).replace(/\\s*\\d+$/,'')});}},children:[/*#__PURE__*/_jsx(Box,{component:\"img\",src:getCardImage(test.name,test.img),alt:test.name,loading:\"lazy\",onError:e=>{const n=normalizeTR(String(test.name));const target=e.currentTarget;if(n.includes('genel ingilizce'))target.src=FALLBACK_IMG.genel;else if(n.includes('erasmus'))target.src=FALLBACK_IMG.erasmus;else if(n.includes('universite'))target.src=FALLBACK_IMG.uni;else target.src=test.img;target.onerror=null;},sx:{width:'100%',height:{xs:160,sm:180},objectFit:'cover',objectPosition:'50% 40%',borderRadius:'12px',mb:1.25}}),/*#__PURE__*/_jsx(Typography,{fontWeight:700,fontSize:18,mb:0.5,color:\"#00695c\",children:String(test.name)}),/*#__PURE__*/_jsx(Typography,{fontSize:14,color:\"#455a64\",children:test.description}),/*#__PURE__*/_jsx(TopicPreview,{category:categoryKey,series:String(test.name).replace(/\\s*\\d+$/,''),seriesId:findSeriesIdLocal(categoryKey,String(test.name))||undefined}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mt:1},children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:e=>{e.stopPropagation();const sid=findSeriesIdLocal(categoryKey,String(test.name));if(sid)setPreview({open:true,seriesId:sid});else setPreview({open:true,category:categoryKey,series:String(test.name).replace(/\\s*\\d+$/,'')});},sx:{textTransform:'none',borderColor:'#00b894',color:'#00b894','&:hover':{borderColor:'#00cec9',background:'rgba(0,206,201,0.08)'}},children:\"\\xD6n \\u0130zleme\"})})]},String(test.id));})},typeKey);})})]},categoryKey);})})]}),/*#__PURE__*/_jsx(TopicPreviewDialog,{open:preview.open,onClose:()=>setPreview({open:false}),category:preview.category,series:preview.series,seriesId:preview.seriesId})]});};// Dynamic card component for A1 Erasmus Sınavı 1\nconst DynamicA1Card=_ref3=>{let{serverOnline,onCheck,checking,onPreview}=_ref3;const navigate=useNavigate();const handleClick=async()=>{if(!serverOnline){await onCheck();if(!serverOnline){alert(checking?'Sunucu durumu kontrol ediliyor...':'Sunucu kapalı. Lütfen backend\\'i başlatın.');return;}}navigate('/exam/dynamic-a1');};return/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',background:'rgba(255, 255, 255, 0.9)',border:'1px solid rgba(0, 184, 148, 0.2)',borderRadius:3,p:2.5,cursor:'pointer',transition:'transform 0.3s ease, box-shadow 0.3s ease',boxShadow:'0 6px 20px rgba(0,0,0,0.08)','&:hover':{transform:'translateY(-3px)',boxShadow:'0 12px 30px rgba(0,0,0,0.12)'},opacity:serverOnline?1:0.9},role:\"button\",tabIndex:0,\"aria-label\":`A1 Erasmus Sınavı 1 kartı, tıklayın`,onClick:handleClick,onKeyDown:e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();handleClick();}},children:[/*#__PURE__*/_jsx(Box,{component:\"img\",src:DEFAULT_IMG.erasmus,alt:\"Erasmus S\\u0131nav\\u0131 1\",loading:\"lazy\",onError:e=>{const target=e.currentTarget;target.src=FALLBACK_IMG.erasmus;target.onerror=null;},sx:{width:'100%',height:{xs:160,sm:180},objectFit:'cover',objectPosition:'50% 40%',borderRadius:'12px',mb:1.25}}),/*#__PURE__*/_jsx(Typography,{fontWeight:700,fontSize:18,mb:0.5,color:\"#00695c\",children:\"Erasmus S\\u0131nav\\u0131 1\"}),/*#__PURE__*/_jsx(Typography,{fontSize:14,color:\"#455a64\",children:\"A1 seviyesinde Erasmus S\\u0131nav\\u0131 1 sorular\\u0131 i\\xE7in t\\u0131klay\\u0131n.\"}),/*#__PURE__*/_jsx(TopicPreview,{category:\"A1\",series:\"Erasmus S\\u0131nav\\u0131\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mt:1},children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:e=>{e.stopPropagation();onPreview===null||onPreview===void 0?void 0:onPreview('A1','Erasmus Sınavı');},sx:{textTransform:'none',borderColor:'#00b894',color:'#00b894','&:hover':{borderColor:'#00cec9',background:'rgba(0,206,201,0.08)'}},children:\"\\xD6n \\u0130zleme\"})})]});};// Dynamic card component for A2 Erasmus Sınavı 1\nconst DynamicA2Card=_ref4=>{let{serverOnline,onCheck,checking,onPreview}=_ref4;const navigate=useNavigate();const handleClick=async()=>{if(!serverOnline){await onCheck();if(!serverOnline){alert(checking?'Sunucu durumu kontrol ediliyor...':'Sunucu kapalı. Lütfen backend\\'i başlatın.');return;}}navigate('/exam/dynamic-a2');};return/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',background:'rgba(255, 255, 255, 0.9)',border:'1px solid rgba(0, 184, 148, 0.2)',borderRadius:3,p:2.5,cursor:'pointer',transition:'transform 0.3s ease, box-shadow 0.3s ease',boxShadow:'0 6px 20px rgba(0,0,0,0.08)','&:hover':{transform:'translateY(-3px)',boxShadow:'0 12px 30px rgba(0,0,0,0.12)'},opacity:serverOnline?1:0.9},role:\"button\",tabIndex:0,\"aria-label\":`A2 Erasmus Sınavı 1 kartı, tıklayın`,onClick:handleClick,onKeyDown:e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();handleClick();}},children:[/*#__PURE__*/_jsx(Box,{component:\"img\",src:DEFAULT_IMG.erasmus,alt:\"Erasmus S\\u0131nav\\u0131 1\",loading:\"lazy\",onError:e=>{const target=e.currentTarget;target.src=FALLBACK_IMG.erasmus;target.onerror=null;},sx:{width:'100%',height:{xs:160,sm:180},objectFit:'cover',objectPosition:'50% 40%',borderRadius:'12px',mb:1.25}}),/*#__PURE__*/_jsx(Typography,{fontWeight:700,fontSize:18,mb:0.5,color:\"#00695c\",children:\"Erasmus S\\u0131nav\\u0131 1\"}),/*#__PURE__*/_jsx(Typography,{fontSize:14,color:\"#455a64\",children:\"A2 Testlerine Erasmus S\\u0131nav\\u0131 1 sorular\\u0131 i\\xE7in t\\u0131klay\\u0131n.\"}),/*#__PURE__*/_jsx(TopicPreview,{category:\"A2\",series:\"Erasmus S\\u0131nav\\u0131\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mt:1},children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:e=>{e.stopPropagation();onPreview===null||onPreview===void 0?void 0:onPreview('A2','Erasmus Sınavı');},sx:{textTransform:'none',borderColor:'#00b894',color:'#00b894','&:hover':{borderColor:'#00cec9',background:'rgba(0,206,201,0.08)'}},children:\"\\xD6n \\u0130zleme\"})})]});};// Dynamic card component for B1 Erasmus Sınavı 1\nconst DynamicB1Card=_ref5=>{let{serverOnline,onCheck,checking,onPreview}=_ref5;const navigate=useNavigate();const handleClick=async()=>{if(!serverOnline){await onCheck();if(!serverOnline){alert(checking?'Sunucu durumu kontrol ediliyor...':'Sunucu kapalı. Lütfen backend\\'i başlatın.');return;}}navigate('/exam/dynamic-b1');};return/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',background:'rgba(255, 255, 255, 0.9)',border:'1px solid rgba(0, 184, 148, 0.2)',borderRadius:3,p:2.5,cursor:'pointer',transition:'transform 0.3s ease, box-shadow 0.3s ease',boxShadow:'0 6px 20px rgba(0,0,0,0.08)','&:hover':{transform:'translateY(-3px)',boxShadow:'0 12px 30px rgba(0,0,0,0.12)'},opacity:serverOnline?1:0.9},role:\"button\",tabIndex:0,\"aria-label\":`B1 Erasmus Sınavı 1 kartı, tıklayın`,onClick:handleClick,onKeyDown:e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();handleClick();}},children:[/*#__PURE__*/_jsx(Box,{component:\"img\",src:DEFAULT_IMG.erasmus,alt:\"Erasmus S\\u0131nav\\u0131 1\",loading:\"lazy\",onError:e=>{const target=e.currentTarget;target.src=FALLBACK_IMG.erasmus;target.onerror=null;},sx:{width:'100%',height:{xs:160,sm:180},objectFit:'cover',objectPosition:'50% 40%',borderRadius:'12px',mb:1.25}}),/*#__PURE__*/_jsx(Typography,{fontWeight:700,fontSize:18,mb:0.5,color:\"#00695c\",children:\"Erasmus S\\u0131nav\\u0131 1\"}),/*#__PURE__*/_jsx(Typography,{fontSize:14,color:\"#455a64\",children:\"B1 Testlerine Erasmus S\\u0131nav\\u0131 1 sorular\\u0131 i\\xE7in t\\u0131klay\\u0131n.\"}),/*#__PURE__*/_jsx(TopicPreview,{category:\"B1\",series:\"Erasmus S\\u0131nav\\u0131\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mt:1},children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:e=>{e.stopPropagation();onPreview===null||onPreview===void 0?void 0:onPreview('B1','Erasmus Sınavı');},sx:{textTransform:'none',borderColor:'#00b894',color:'#00b894','&:hover':{borderColor:'#00cec9',background:'rgba(0,206,201,0.08)'}},children:\"\\xD6n \\u0130zleme\"})})]});};// Dynamic card component for B2 Erasmus Sınavı 1\nconst DynamicB2Card=_ref6=>{let{serverOnline,onCheck,checking,onPreview}=_ref6;const navigate=useNavigate();const handleClick=async()=>{if(!serverOnline){await onCheck();if(!serverOnline){alert(checking?'Sunucu durumu kontrol ediliyor...':'Sunucu kapalı. Lütfen backend\\'i başlatın.');return;}}navigate('/exam/dynamic-b2');};return/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',background:'rgba(255, 255, 255, 0.9)',border:'1px solid rgba(0, 184, 148, 0.2)',borderRadius:3,p:2.5,cursor:'pointer',transition:'transform 0.3s ease, box-shadow 0.3s ease',boxShadow:'0 6px 20px rgba(0,0,0,0.08)','&:hover':{transform:'translateY(-3px)',boxShadow:'0 12px 30px rgba(0,0,0,0.12)'},opacity:serverOnline?1:0.9},role:\"button\",tabIndex:0,\"aria-label\":`B2 Erasmus Sınavı 1 kartı, tıklayın`,onClick:handleClick,onKeyDown:e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();handleClick();}},children:[/*#__PURE__*/_jsx(Box,{component:\"img\",src:DEFAULT_IMG.erasmus,alt:\"Erasmus S\\u0131nav\\u0131 1\",loading:\"lazy\",onError:e=>{const target=e.currentTarget;target.src=FALLBACK_IMG.erasmus;target.onerror=null;},sx:{width:'100%',height:{xs:160,sm:180},objectFit:'cover',objectPosition:'50% 40%',borderRadius:'12px',mb:1.25}}),/*#__PURE__*/_jsx(Typography,{fontWeight:700,fontSize:18,mb:0.5,color:\"#00695c\",children:\"Erasmus S\\u0131nav\\u0131 1\"}),/*#__PURE__*/_jsx(Typography,{fontSize:14,color:\"#455a64\",children:\"B2 Testlerine Erasmus S\\u0131nav\\u0131 1 sorular\\u0131 i\\xE7in t\\u0131klay\\u0131n.\"}),/*#__PURE__*/_jsx(TopicPreview,{category:\"B2\",series:\"Erasmus S\\u0131nav\\u0131\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mt:1},children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:e=>{e.stopPropagation();onPreview===null||onPreview===void 0?void 0:onPreview('B2','Erasmus Sınavı');},sx:{textTransform:'none',borderColor:'#00b894',color:'#00b894','&:hover':{borderColor:'#00cec9',background:'rgba(0,206,201,0.08)'}},children:\"\\xD6n \\u0130zleme\"})})]});};export default Categories;","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","Box","Paper","Typography","Button","TopicPreview","TopicPreviewDialog","jsx","_jsx","jsxs","_jsxs","DEFAULT_IMG","genel","erasmus","uni","FALLBACK_IMG","normalizeTR","s","toLocaleLowerCase","normalize","replace","fixTurkish","title","t","split","map","w","charAt","toLocaleUpperCase","slice","join","trim","getCardImage","name","fallback","n","includes","testData","A1","id","description","img","isDynamic","A2","B1","B2","categoryTitles","Categories","navigate","API_URL","process","env","REACT_APP_API_URL","serverOnline","setServerOnline","checking","setChecking","preview","setPreview","open","seriesList","setSeriesList","resolveSeriesId","categoryKey","testName","res","fetch","cache","ok","list","json","norm","target","exact","find","startsWith","contains","findSeriesIdLocal","length","checkHealth","e","fetchSeries","data","Array","isArray","dynamicData","byLevel","ensure","lvl","key","typeFrom","m","match","toUpperCase","displayRaw","display","push","finalData","levels","merged","dynLevel","tdLevel","typeKey","Object","entries","sx","minHeight","background","px","flexDirection","alignItems","pb","xs","md","pt","children","bgcolor","color","p","borderRadius","mt","width","maxWidth","fontWeight","fontSize","style","cursor","textDecoration","onClick","elevation","overflow","backdropFilter","border","boxShadow","transition","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","textAlign","position","content","top","left","right","bottom","zIndex","variant","mb","textShadow","opacity","lineHeight","mx","_ref","types","gridTemplateColumns","gap","_ref2","tests","Fragment","test","DynamicA2Card","onCheck","onPreview","cat","ser","category","series","String","DynamicA1Card","DynamicB1Card","DynamicB2Card","transform","role","tabIndex","localId","sid","onKeyDown","preventDefault","component","src","alt","loading","onError","currentTarget","onerror","height","sm","objectFit","objectPosition","seriesId","undefined","justifyContent","size","stopPropagation","textTransform","borderColor","onClose","_ref3","handleClick","alert","_ref4","_ref5","_ref6"],"sources":["/Users/yavuz/Desktop/portfolio/erasmus-exam-page/frontend/src/pages/Categories.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Paper, Typography, Button } from '@mui/material';\nimport TopicPreview from '../components/TopicPreview';\nimport TopicPreviewDialog from '../components/TopicPreviewDialog';\n\n// Default images (place your provided images under public/assets with these names)\nconst DEFAULT_IMG = {\n  genel: '/assets/genel-ingilizce.jpg',\n  erasmus: '/assets/erasmus-exam.jpg',\n  uni: '/assets/university-prep.jpg',\n};\n\n// Fallback images (kept local to avoid large external requests)\n// Drop your own files into public/assets with these exact names or update the paths here.\nconst FALLBACK_IMG = {\n  genel: '/assets/genel-ingilizce.jpg',\n  erasmus: '/assets/erasmus-exam.jpg',\n  uni: '/assets/university-prep.jpg',\n};\n\n// Normalize TR text and map test names to default images\nconst normalizeTR = (s: string) =>\n  s\n    .toLocaleLowerCase('tr-TR')\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '');\n\n// Fix common Turkish diacritic issues in titles coming from DB (e.g., Ingilizce -> İngilizce, Universite -> Üniversite, Sinavi -> Sınavı)\nconst fixTurkish = (title: string) => {\n  let t = title;\n  t = t.replace(/genel\\s+ingilizce/gi, 'Genel İngilizce');\n  t = t.replace(/ingilizce/gi, 'İngilizce');\n  t = t.replace(/universite/gi, 'Üniversite');\n  t = t.replace(/hazirlik/gi, 'Hazırlık');\n  t = t.replace(/sinavi/gi, 'Sınavı');\n  // Ensure title-case for the whole string (basic)\n  t = t\n    .split(/\\s+/)\n    .map((w) => w.charAt(0).toLocaleUpperCase('tr-TR') + w.slice(1))\n    .join(' ');\n  return t.trim();\n};\n\nconst getCardImage = (name: string, fallback: string) => {\n  const n = normalizeTR(name);\n  if (n.includes('genel ingilizce')) return DEFAULT_IMG.genel;\n  if (n.includes('erasmus')) return DEFAULT_IMG.erasmus;\n  if (n.includes('universite')) return DEFAULT_IMG.uni; // üniversite -> universite after normalize\n  return fallback;\n};\n\n\n// Type for test objects\ntype TestType = {\n  id: number | string;\n  name: string;\n  description: string;\n  img: string;\n  isDynamic?: boolean;\n};\n\n\n// Hardcoded test data grouped by category and type (A1/A2/B1/B2, 3 sınav türü)\nconst testData: {\n  [key: string]: {\n    [key: string]: TestType[];\n  };\n} = {\n  A1: {\n    'Erasmus Sınavı 1': [\n      {\n        id: 'dynamic-a1',\n        name: 'Erasmus Sınavı 1',\n        description: 'A1 seviyesinde Erasmus Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb',\n        isDynamic: true,\n      },\n    ],\n    'Genel İngilizce 1': [\n      {\n        id: 'a1-genel',\n        name: 'Genel İngilizce 1',\n        description: 'A1 seviyesinde Genel İngilizce 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308',\n      },\n    ],\n    'Üniversite Hazırlık Sınavı 2': [\n      {\n        id: 'a1-uni-2',\n        name: 'Üniversite Hazırlık Sınavı 2',\n        description: 'A1 seviyesinde Üniversite Hazırlık Sınavı 2 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1464983953574-0892a716854b',\n      },\n    ],\n    'Üniversite Hazırlık Sınavı 1': [\n      {\n        id: 'a1-uni',\n        name: 'Üniversite Hazırlık Sınavı 1',\n        description: 'A1 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1464983953574-0892a716854b',\n      },\n    ],\n  },\n  A2: {\n    'Erasmus Sınavı 1': [\n      {\n        id: 'dynamic',\n        name: 'Erasmus Sınavı 1',\n        description: 'A2 Testlerine Erasmus Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb',\n        isDynamic: true,\n      },\n    ],\n    'Genel İngilizce 1': [\n      {\n        id: 'a2-genel',\n        name: 'Genel İngilizce 1',\n        description: 'A2 seviyesinde Genel İngilizce 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308',\n      },\n    ],\n    'Üniversite Hazırlık Sınavı 2': [\n      {\n        id: 'a2-uni-2',\n        name: 'Üniversite Hazırlık Sınavı 2',\n        description: 'A2 seviyesinde Üniversite Hazırlık Sınavı 2 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1464983953574-0892a716854b',\n      },\n    ],\n    'Üniversite Hazırlık Sınavı 1': [\n      {\n        id: 'a2-uni',\n        name: 'Üniversite Hazırlık Sınavı 1',\n        description: 'A2 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1464983953574-0892a716854b',\n      },\n    ],\n  },\n  B1: {\n    'Erasmus Sınavı 1': [\n      {\n        id: 'dynamic-b1',\n        name: 'Erasmus Sınavı 1',\n        description: 'B1 Testlerine Erasmus Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb',\n        isDynamic: true,\n      },\n    ],\n    'Genel İngilizce 1': [\n      {\n        id: 'b1-genel',\n        name: 'Genel İngilizce 1',\n        description: 'B1 seviyesinde Genel İngilizce 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308',\n      },\n    ],\n    'Üniversite Hazırlık Sınavı 1': [\n      {\n        id: 'b1-uni',\n        name: 'Üniversite Hazırlık Sınavı 1',\n        description: 'B1 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1464983953574-0892a716854b',\n      },\n    ],\n  },\n  B2: {\n    'Erasmus Sınavı 1': [\n      {\n        id: 'dynamic-b2',\n        name: 'Erasmus Sınavı 1',\n        description: 'B2 Testlerine Erasmus Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb',\n        isDynamic: true,\n      },\n    ],\n    'Genel İngilizce 1': [\n      {\n        id: 'b2-genel',\n        name: 'Genel İngilizce 1',\n        description: 'B2 seviyesinde Genel İngilizce 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308',\n      },\n    ],\n    'Üniversite Hazırlık Sınavı 1': [\n      {\n        id: 'b2-uni',\n        name: 'Üniversite Hazırlık Sınavı 1',\n        description: 'B2 seviyesinde Üniversite Hazırlık Sınavı 1 soruları için tıklayın.',\n        img: 'https://images.unsplash.com/photo-1464983953574-0892a716854b',\n      },\n    ],\n  },\n};\n\nconst categoryTitles = {\n  A1: 'A1 Testleri',\n  A2: 'A2 Testleri',\n  B1: 'B1 Testleri',\n  B2: 'B2 Testleri',\n};\n\nconst Categories: React.FC = () => {\n  const navigate = useNavigate();\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n  const [serverOnline, setServerOnline] = useState(true);\n  const [checking, setChecking] = useState(false);\n  const [preview, setPreview] = useState<{ open: boolean; category?: string; series?: string; seriesId?: string }>(() => ({ open: false }));\n  const [seriesList, setSeriesList] = useState<Array<{ id: string; name: string }>>([]);\n\n  // Find a QuestionSeries by combining level (categoryKey) and test name, return its id\n  const resolveSeriesId = async (categoryKey: string, testName: string): Promise<string | null> => {\n    try {\n      const res = await fetch(`${API_URL}/api/series`, { cache: 'no-store' });\n      if (!res.ok) return null;\n      const list: Array<{ id: string; name: string }> = await res.json();\n      const norm = (s: string) => s.toLocaleLowerCase('tr-TR').normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n      const target = norm(`${categoryKey} ${testName}`);\n      // Prefer startsWith match, else contains\n      const exact = list.find(s => norm(s.name).startsWith(target));\n      if (exact) return exact.id;\n      const contains = list.find(s => norm(s.name).includes(target));\n      return contains ? contains.id : null;\n    } catch {\n      return null;\n    }\n  };\n\n  // Try to find seriesId locally from already-fetched seriesList\n  const findSeriesIdLocal = (categoryKey: string, testName: string): string | null => {\n    if (!seriesList.length) return null;\n    const norm = (s: string) => s.toLocaleLowerCase('tr-TR').normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n    const target = norm(`${categoryKey} ${testName}`);\n    const exact = seriesList.find(s => norm(s.name).startsWith(target));\n    if (exact) return exact.id;\n    const contains = seriesList.find(s => norm(s.name).includes(target));\n    return contains ? contains.id : null;\n  };\n\n  const checkHealth = async () => {\n    setChecking(true);\n    try {\n      const res = await fetch(`${API_URL}/health`, { cache: 'no-store' });\n      setServerOnline(res.ok);\n    } catch (e) {\n      setServerOnline(false);\n    } finally {\n      setChecking(false);\n    }\n  };\n\n  useEffect(() => {\n    checkHealth();\n  }, []);\n\n  // Fetch QuestionSeries list to bind cards to real series IDs\n  useEffect(() => {\n    const fetchSeries = async () => {\n      try {\n        const res = await fetch(`${API_URL}/api/series`, { cache: 'no-store' });\n        if (!res.ok) return;\n        const data = await res.json();\n        if (Array.isArray(data)) setSeriesList(data);\n      } catch {}\n    };\n    fetchSeries();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const dynamicData = useMemo(() => {\n    if (!seriesList.length) return null;\n    const byLevel: Record<string, Record<string, TestType[]>> = { A1: {}, A2: {}, B1: {}, B2: {} };\n    const ensure = (lvl: string, key: string) => (byLevel[lvl][key] = byLevel[lvl][key] || []);\n    const norm = (s: string) => s.toLocaleLowerCase('tr-TR').normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n    const typeFrom = (name: string) => {\n      const n = norm(name);\n      if (n.includes('erasmus')) return 'Erasmus Sınavı 1';\n      if (n.includes('universite') || n.includes('hazirlik')) return 'Üniversite Hazırlık Sınavı 1';\n      if (n.includes('genel ingilizce')) return 'Genel İngilizce 1';\n      return 'Diğer';\n    };\n    for (const s of seriesList) {\n      const m = s.name.match(/^(A1|A2|B1|B2)\\b/i);\n      if (!m) continue;\n      const lvl = m[0].toUpperCase();\n      const key = typeFrom(s.name);\n      const displayRaw = s.name.replace(/^\\s*(A1|A2|B1|B2)\\s*/i, '').trim() || key;\n      const display = fixTurkish(displayRaw);\n      ensure(lvl, key).push({\n        id: s.id,\n        name: display,\n        description: `${lvl} seviyesinde ${key} soruları için tıklayın.`,\n        img: getCardImage(key, DEFAULT_IMG.erasmus),\n      });\n    }\n    return byLevel;\n  }, [seriesList]);\n\n  // Merge backend series (if any) with fallback hardcoded test data so missing types still show (e.g., Genel İngilizce 2)\n  const finalData = useMemo(() => {\n    if (!dynamicData) return testData;\n    const levels = ['A1', 'A2', 'B1', 'B2'] as const;\n    const merged: Record<string, Record<string, TestType[]>> = { A1: {}, A2: {}, B1: {}, B2: {} };\n    for (const lvl of levels) {\n      const dynLevel = (dynamicData as any)[lvl] || {};\n      const tdLevel = (testData as any)[lvl] || {};\n      // Start with dynamic (real series) so they take precedence\n      merged[lvl] = { ...dynLevel };\n      // Add any missing categories from fallback test data\n      for (const [typeKey, list] of Object.entries(tdLevel)) {\n        if (!merged[lvl][typeKey]) merged[lvl][typeKey] = list as TestType[];\n      }\n    }\n    return merged;\n  }, [dynamicData]);\n\n  return (\n    <Box sx={{ \n      minHeight: '100vh', \n      background: '#b2dfdb',\n      px: 2, \n      display: 'flex', \n      flexDirection: 'column', \n      alignItems: 'center', \n      pb: { xs: 12, md: 16 },\n      pt: 0\n    }}>\n      {/* Server offline banner */}\n      {!serverOnline && (\n        <Box sx={{ bgcolor: '#ffebee', color: '#c62828', p: 2, borderRadius: 2, mt: 2, width: '100%', maxWidth: 900 }}>\n          <Typography fontWeight={700}>Sunucu çevrimdışı</Typography>\n          <Typography fontSize={14}>Lütfen backend'i başlatın ve tekrar deneyin.</Typography>\n          <Box sx={{ mt: 1 }}>\n            <span style={{ cursor: 'pointer', textDecoration: 'underline' }} onClick={checkHealth}>\n              {checking ? 'Kontrol ediliyor...' : 'Tekrar Dene'}\n            </span>\n          </Box>\n        </Box>\n      )}\n\n      <Paper \n        elevation={6} \n        sx={{ \n          maxWidth: 1200, \n          width: '100%', \n          borderRadius: 4, \n          overflow: 'hidden', \n          mt: { xs: 1, md: '15px' },\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)',\n          backdropFilter: 'blur(10px)',\n          border: '1px solid rgba(255, 255, 255, 0.2)',\n          boxShadow: '0 20px 40px rgba(0, 0, 0, 0.1)',\n          transition: 'transform 0.3s ease'\n        }}\n      >\n        {/* Gradient header like Rankings, merged with top and inheriting radii */}\n        <Box sx={{ \n          background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)', \n          color: '#fff', \n          p: { xs: 3, md: 4 }, \n          borderTopLeftRadius: 'inherit',\n          borderTopRightRadius: 'inherit',\n          borderBottomLeftRadius: 0,\n          borderBottomRightRadius: 0,\n          textAlign: 'center',\n          position: 'relative',\n          overflow: 'hidden',\n          '&::before': {\n            content: '\"\"',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'rgba(255, 255, 255, 0.1)',\n            backdropFilter: 'blur(5px)',\n            zIndex: 0,\n          }\n        }}>\n          <Box sx={{ position: 'relative', zIndex: 1 }}>\n            <Typography variant=\"h3\" fontWeight={700} mb={1} sx={{ textShadow: '0 4px 8px rgba(0, 0, 0, 0.2)', fontSize: { xs: '2rem', md: '2.5rem' } }}>Sınav Kategorileri</Typography>\n            <Typography variant=\"h6\" sx={{ opacity: 0.9, mb: 2 }}>Seviyene ve kategorine uygun testi seç</Typography>\n            \n            {/* Bilgilendirme metni */}\n            <Typography variant=\"body1\" sx={{ \n              opacity: 1, \n              fontSize: { xs: '0.95rem', md: '1.05rem' },\n              lineHeight: 1.7,\n              maxWidth: 900,\n              mx: 'auto',\n              fontWeight: 500,\n              color: 'rgba(255, 255, 255, 0.95)',\n              textShadow: '0 1px 2px rgba(0, 0, 0, 0.3)',\n              mt: 2\n            }}>\n              Bazı testlerde 4, bazılarında 5 seçenekli sorular bulunabilir ve bu durum üniversite sınavlarındaki çeşitliliği yansıtmaktadır. \n              Genel İngilizce testleri aynı zamanda akademik İngilizce sınavlarına uygun içerik sunar ve sorular genel olarak kelime bilgisi \n              ile gramer konularını ölçmektedir. Sınavların kendi seviyesinde zorluk dereceleri değişmektedir. Her testten önce ön izlemeyi \n              inceleyerek nelerle karşılaşacağınız hakkında bilgi alabilirsiniz.\n            </Typography>\n          </Box>\n        </Box>\n\n        {/* Inner content padding wrapper */}\n        <Box sx={{ p: { xs: 3, md: 5 } }}>\n          {Object.entries(finalData).map(([categoryKey, types]) => (\n            <Box key={categoryKey} sx={{ mb: 4 }}>\n              <Typography variant=\"h5\" fontWeight={800} mb={2} sx={{ color: '#00695c' }}>\n                {categoryTitles[categoryKey as keyof typeof categoryTitles]}\n              </Typography>\n              <Box sx={{ \n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n                gap: 3\n              }}>\n                {Object.entries(types).map(([typeKey, tests]) => (\n                  <React.Fragment key={typeKey}>\n                    {tests.map((test: TestType) => {\n                      // When no backend series yet, render dynamic placeholder cards for Erasmus only\n                      if (!dynamicData && test.isDynamic) {\n                        if (test.id === 'dynamic') return (\n                          <DynamicA2Card key={String(test.id)} serverOnline={serverOnline} onCheck={checkHealth} checking={checking} onPreview={(cat, ser)=> setPreview({ open: true, category: cat, series: ser })} />\n                        );\n                        if (test.id === 'dynamic-a1') return (\n                          <DynamicA1Card key={String(test.id)} serverOnline={serverOnline} onCheck={checkHealth} checking={checking} onPreview={(cat, ser)=> setPreview({ open: true, category: cat, series: ser })} />\n                        );\n                        if (test.id === 'dynamic-b1') return (\n                          <DynamicB1Card key={String(test.id)} serverOnline={serverOnline} onCheck={checkHealth} checking={checking} onPreview={(cat, ser)=> setPreview({ open: true, category: cat, series: ser })} />\n                        );\n                        if (test.id === 'dynamic-b2') return (\n                          <DynamicB2Card key={String(test.id)} serverOnline={serverOnline} onCheck={checkHealth} checking={checking} onPreview={(cat, ser)=> setPreview({ open: true, category: cat, series: ser })} />\n                        );\n                        return null;\n                      }\n\n                      // Otherwise render a normal series-bound card (test.id is seriesId when dynamicData exists)\n                      return (\n                        <Box\n                          key={String(test.id)}\n                          sx={{\n                            width: '100%',\n                            background: 'rgba(255, 255, 255, 0.9)',\n                            border: '1px solid rgba(0, 184, 148, 0.2)',\n                            borderRadius: 3,\n                            boxShadow: '0 6px 20px rgba(0,0,0,0.08)',\n                            p: 2.5,\n                            cursor: 'pointer',\n                            transition: 'transform 0.3s ease, box-shadow 0.3s ease',\n                            '&:hover': { boxShadow: '0 12px 30px rgba(0,0,0,0.12)', transform: 'translateY(-3px)' },\n                          }}\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label={`${categoryKey} ${test.name} kartı, tıklayın`}\n                          onClick={async () => {\n                            // Always try to resolve to a real series id (local first, then network)\n                            const localId = findSeriesIdLocal(categoryKey, String(test.name));\n                            const sid = localId || (await resolveSeriesId(categoryKey, String(test.name)));\n                            if (sid) {\n                              navigate(`/exam/${sid}`);\n                            } else {\n                              // If not resolvable yet, open preview as a graceful fallback\n                              setPreview({ open: true, category: categoryKey, series: String(test.name).replace(/\\s*\\d+$/, '') });\n                            }\n                          }}\n                          onKeyDown={async (e) => {\n                            if (e.key === 'Enter' || e.key === ' ') {\n                              e.preventDefault();\n                              const localId = findSeriesIdLocal(categoryKey, String(test.name));\n                              const sid = localId || (await resolveSeriesId(categoryKey, String(test.name)));\n                              if (sid) navigate(`/exam/${sid}`);\n                              else setPreview({ open: true, category: categoryKey, series: String(test.name).replace(/\\s*\\d+$/, '') });\n                            }\n                          }}\n                        >\n                          <Box\n                            component=\"img\"\n                            src={getCardImage(test.name as string, (test as any).img)}\n                            alt={test.name as string}\n                            loading=\"lazy\"\n                            onError={(e: React.SyntheticEvent<HTMLImageElement>) => {\n                              const n = normalizeTR(String(test.name));\n                              const target = e.currentTarget as HTMLImageElement;\n                              if (n.includes('genel ingilizce')) target.src = FALLBACK_IMG.genel;\n                              else if (n.includes('erasmus')) target.src = FALLBACK_IMG.erasmus;\n                              else if (n.includes('universite')) target.src = FALLBACK_IMG.uni;\n                              else target.src = (test as any).img;\n                              target.onerror = null;\n                            }}\n                            sx={{ width: '100%', height: { xs: 160, sm: 180 }, objectFit: 'cover', objectPosition: '50% 40%', borderRadius: '12px', mb: 1.25 }}\n                          />\n                          <Typography fontWeight={700} fontSize={18} mb={0.5} color=\"#00695c\">{String(test.name)}</Typography>\n                          <Typography fontSize={14} color=\"#455a64\">{(test as any).description}</Typography>\n                          {/* Topic preview (AI/heuristic) */}\n                          <TopicPreview \n                            category={categoryKey}\n                            series={String(test.name).replace(/\\s*\\d+$/, '')}\n                            seriesId={findSeriesIdLocal(categoryKey, String(test.name)) || undefined}\n                          />\n                          <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 1 }}>\n                            <Button\n                              size=\"small\"\n                              variant=\"outlined\"\n                              onClick={(e) => { \n                                e.stopPropagation(); \n                                const sid = findSeriesIdLocal(categoryKey, String(test.name));\n                                if (sid) setPreview({ open: true, seriesId: sid } as any);\n                                else setPreview({ open: true, category: categoryKey, series: String(test.name).replace(/\\s*\\d+$/, '') });\n                              }}\n                              sx={{ textTransform: 'none', borderColor: '#00b894', color: '#00b894', '&:hover': { borderColor: '#00cec9', background: 'rgba(0,206,201,0.08)' } }}\n                            >\n                              Ön İzleme\n                            </Button>\n                          </Box>\n                        </Box>\n                      );\n                    })}\n                  </React.Fragment>\n                ))}\n              </Box>\n            </Box>\n          ))}\n        </Box>\n      </Paper>\n  <TopicPreviewDialog open={preview.open} onClose={() => setPreview({ open: false })} category={preview.category} series={preview.series} seriesId={preview.seriesId} />\n    </Box>\n  );\n};\n\n// Dynamic card component for A1 Erasmus Sınavı 1\nconst DynamicA1Card: React.FC<{ serverOnline: boolean; onCheck: () => void; checking: boolean; onPreview?: (category: string, series: string) => void; }> = ({ serverOnline, onCheck, checking, onPreview }) => {\n  const navigate = useNavigate();\n\n  const handleClick = async () => {\n    if (!serverOnline) {\n      await onCheck();\n      if (!serverOnline) {\n        alert(checking ? 'Sunucu durumu kontrol ediliyor...' : 'Sunucu kapalı. Lütfen backend\\'i başlatın.');\n        return;\n      }\n    }\n    navigate('/exam/dynamic-a1');\n  };\n\n  return (\n    <Box\n      sx={{\n        width: '100%',\n        background: 'rgba(255, 255, 255, 0.9)',\n        border: '1px solid rgba(0, 184, 148, 0.2)',\n        borderRadius: 3,\n        p: 2.5,\n        cursor: 'pointer',\n        transition: 'transform 0.3s ease, box-shadow 0.3s ease',\n        boxShadow: '0 6px 20px rgba(0,0,0,0.08)',\n        '&:hover': { transform: 'translateY(-3px)', boxShadow: '0 12px 30px rgba(0,0,0,0.12)' },\n        opacity: serverOnline ? 1 : 0.9,\n      }}\n      role=\"button\"\n      tabIndex={0}\n      aria-label={`A1 Erasmus Sınavı 1 kartı, tıklayın`}\n      onClick={handleClick}\n      onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleClick(); } }}\n    >\n      <Box\n        component=\"img\"\n        src={DEFAULT_IMG.erasmus}\n        alt=\"Erasmus Sınavı 1\"\n        loading=\"lazy\"\n        onError={(e: React.SyntheticEvent<HTMLImageElement>) => {\n          const target = e.currentTarget as HTMLImageElement;\n          target.src = FALLBACK_IMG.erasmus;\n          target.onerror = null;\n        }}\n        sx={{ width: '100%', height: { xs: 160, sm: 180 }, objectFit: 'cover', objectPosition: '50% 40%', borderRadius: '12px', mb: 1.25 }}\n      />\n      <Typography fontWeight={700} fontSize={18} mb={0.5} color=\"#00695c\">Erasmus Sınavı 1</Typography>\n      <Typography fontSize={14} color=\"#455a64\">A1 seviyesinde Erasmus Sınavı 1 soruları için tıklayın.</Typography>\n      <TopicPreview category=\"A1\" series=\"Erasmus Sınavı\" />\n      <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 1 }}>\n        <Button size=\"small\" variant=\"outlined\" onClick={(e)=>{ e.stopPropagation(); onPreview?.('A1','Erasmus Sınavı'); }} sx={{ textTransform: 'none', borderColor: '#00b894', color: '#00b894', '&:hover': { borderColor: '#00cec9', background: 'rgba(0,206,201,0.08)' } }}>Ön İzleme</Button>\n      </Box>\n    </Box>\n  );\n};\n\n// Dynamic card component for A2 Erasmus Sınavı 1\nconst DynamicA2Card: React.FC<{ serverOnline: boolean; onCheck: () => void; checking: boolean; onPreview?: (category: string, series: string) => void; }> = ({ serverOnline, onCheck, checking, onPreview }) => {\n  const navigate = useNavigate();\n\n  const handleClick = async () => {\n    if (!serverOnline) {\n      await onCheck();\n      if (!serverOnline) {\n        alert(checking ? 'Sunucu durumu kontrol ediliyor...' : 'Sunucu kapalı. Lütfen backend\\'i başlatın.');\n        return;\n      }\n    }\n    navigate('/exam/dynamic-a2');\n  };\n\n  return (\n    <Box\n      sx={{\n        width: '100%',\n        background: 'rgba(255, 255, 255, 0.9)',\n        border: '1px solid rgba(0, 184, 148, 0.2)',\n        borderRadius: 3,\n        p: 2.5,\n        cursor: 'pointer',\n        transition: 'transform 0.3s ease, box-shadow 0.3s ease',\n        boxShadow: '0 6px 20px rgba(0,0,0,0.08)',\n        '&:hover': { transform: 'translateY(-3px)', boxShadow: '0 12px 30px rgba(0,0,0,0.12)' },\n        opacity: serverOnline ? 1 : 0.9,\n      }}\n      role=\"button\"\n      tabIndex={0}\n      aria-label={`A2 Erasmus Sınavı 1 kartı, tıklayın`}\n      onClick={handleClick}\n      onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleClick(); } }}\n    >\n      <Box\n        component=\"img\"\n        src={DEFAULT_IMG.erasmus}\n        alt=\"Erasmus Sınavı 1\"\n        loading=\"lazy\"\n        onError={(e: React.SyntheticEvent<HTMLImageElement>) => {\n          const target = e.currentTarget as HTMLImageElement;\n          target.src = FALLBACK_IMG.erasmus;\n          target.onerror = null;\n        }}\n        sx={{ width: '100%', height: { xs: 160, sm: 180 }, objectFit: 'cover', objectPosition: '50% 40%', borderRadius: '12px', mb: 1.25 }}\n      />\n      <Typography fontWeight={700} fontSize={18} mb={0.5} color=\"#00695c\">Erasmus Sınavı 1</Typography>\n      <Typography fontSize={14} color=\"#455a64\">A2 Testlerine Erasmus Sınavı 1 soruları için tıklayın.</Typography>\n      <TopicPreview category=\"A2\" series=\"Erasmus Sınavı\" />\n      <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 1 }}>\n        <Button size=\"small\" variant=\"outlined\" onClick={(e)=>{ e.stopPropagation(); onPreview?.('A2','Erasmus Sınavı'); }} sx={{ textTransform: 'none', borderColor: '#00b894', color: '#00b894', '&:hover': { borderColor: '#00cec9', background: 'rgba(0,206,201,0.08)' } }}>Ön İzleme</Button>\n      </Box>\n    </Box>\n  );\n};\n\n// Dynamic card component for B1 Erasmus Sınavı 1\nconst DynamicB1Card: React.FC<{ serverOnline: boolean; onCheck: () => void; checking: boolean; onPreview?: (category: string, series: string) => void; }> = ({ serverOnline, onCheck, checking, onPreview }) => {\n  const navigate = useNavigate();\n\n  const handleClick = async () => {\n    if (!serverOnline) {\n      await onCheck();\n      if (!serverOnline) {\n        alert(checking ? 'Sunucu durumu kontrol ediliyor...' : 'Sunucu kapalı. Lütfen backend\\'i başlatın.');\n        return;\n      }\n    }\n    navigate('/exam/dynamic-b1');\n  };\n\n  return (\n    <Box\n      sx={{\n        width: '100%',\n        background: 'rgba(255, 255, 255, 0.9)',\n        border: '1px solid rgba(0, 184, 148, 0.2)',\n        borderRadius: 3,\n        p: 2.5,\n        cursor: 'pointer',\n        transition: 'transform 0.3s ease, box-shadow 0.3s ease',\n        boxShadow: '0 6px 20px rgba(0,0,0,0.08)',\n        '&:hover': { transform: 'translateY(-3px)', boxShadow: '0 12px 30px rgba(0,0,0,0.12)' },\n        opacity: serverOnline ? 1 : 0.9,\n      }}\n      role=\"button\"\n      tabIndex={0}\n      aria-label={`B1 Erasmus Sınavı 1 kartı, tıklayın`}\n      onClick={handleClick}\n      onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleClick(); } }}\n    >\n      <Box\n        component=\"img\"\n        src={DEFAULT_IMG.erasmus}\n        alt=\"Erasmus Sınavı 1\"\n        loading=\"lazy\"\n        onError={(e: React.SyntheticEvent<HTMLImageElement>) => {\n          const target = e.currentTarget as HTMLImageElement;\n          target.src = FALLBACK_IMG.erasmus;\n          target.onerror = null;\n        }}\n        sx={{ width: '100%', height: { xs: 160, sm: 180 }, objectFit: 'cover', objectPosition: '50% 40%', borderRadius: '12px', mb: 1.25 }}\n      />\n      <Typography fontWeight={700} fontSize={18} mb={0.5} color=\"#00695c\">Erasmus Sınavı 1</Typography>\n      <Typography fontSize={14} color=\"#455a64\">B1 Testlerine Erasmus Sınavı 1 soruları için tıklayın.</Typography>\n      <TopicPreview category=\"B1\" series=\"Erasmus Sınavı\" />\n      <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 1 }}>\n        <Button size=\"small\" variant=\"outlined\" onClick={(e)=>{ e.stopPropagation(); onPreview?.('B1','Erasmus Sınavı'); }} sx={{ textTransform: 'none', borderColor: '#00b894', color: '#00b894', '&:hover': { borderColor: '#00cec9', background: 'rgba(0,206,201,0.08)' } }}>Ön İzleme</Button>\n      </Box>\n    </Box>\n  );\n};\n\n// Dynamic card component for B2 Erasmus Sınavı 1\nconst DynamicB2Card: React.FC<{ serverOnline: boolean; onCheck: () => void; checking: boolean; onPreview?: (category: string, series: string) => void; }> = ({ serverOnline, onCheck, checking, onPreview }) => {\n  const navigate = useNavigate();\n\n  const handleClick = async () => {\n    if (!serverOnline) {\n      await onCheck();\n      if (!serverOnline) {\n        alert(checking ? 'Sunucu durumu kontrol ediliyor...' : 'Sunucu kapalı. Lütfen backend\\'i başlatın.');\n        return;\n      }\n    }\n    navigate('/exam/dynamic-b2');\n  };\n\n  return (\n    <Box\n      sx={{\n        width: '100%',\n        background: 'rgba(255, 255, 255, 0.9)',\n        border: '1px solid rgba(0, 184, 148, 0.2)',\n        borderRadius: 3,\n        p: 2.5,\n        cursor: 'pointer',\n        transition: 'transform 0.3s ease, box-shadow 0.3s ease',\n        boxShadow: '0 6px 20px rgba(0,0,0,0.08)',\n        '&:hover': { transform: 'translateY(-3px)', boxShadow: '0 12px 30px rgba(0,0,0,0.12)' },\n        opacity: serverOnline ? 1 : 0.9,\n      }}\n      role=\"button\"\n      tabIndex={0}\n      aria-label={`B2 Erasmus Sınavı 1 kartı, tıklayın`}\n      onClick={handleClick}\n      onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleClick(); } }}\n    >\n      <Box\n        component=\"img\"\n        src={DEFAULT_IMG.erasmus}\n        alt=\"Erasmus Sınavı 1\"\n        loading=\"lazy\"\n        onError={(e: React.SyntheticEvent<HTMLImageElement>) => {\n          const target = e.currentTarget as HTMLImageElement;\n          target.src = FALLBACK_IMG.erasmus;\n          target.onerror = null;\n        }}\n        sx={{ width: '100%', height: { xs: 160, sm: 180 }, objectFit: 'cover', objectPosition: '50% 40%', borderRadius: '12px', mb: 1.25 }}\n      />\n      <Typography fontWeight={700} fontSize={18} mb={0.5} color=\"#00695c\">Erasmus Sınavı 1</Typography>\n      <Typography fontSize={14} color=\"#455a64\">B2 Testlerine Erasmus Sınavı 1 soruları için tıklayın.</Typography>\n      <TopicPreview category=\"B2\" series=\"Erasmus Sınavı\" />\n      <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 1 }}>\n        <Button size=\"small\" variant=\"outlined\" onClick={(e)=>{ e.stopPropagation(); onPreview?.('B2','Erasmus Sınavı'); }} sx={{ textTransform: 'none', borderColor: '#00b894', color: '#00b894', '&:hover': { borderColor: '#00cec9', background: 'rgba(0,206,201,0.08)' } }}>Ön İzleme</Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Categories;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}