{"ast":null,"code":"import React,{useState}from'react';import{BrowserRouter as Router,Routes,Route,useNavigate,Navigate}from'react-router-dom';import Login from'./pages/Login';import Exam from'./pages/Exam';import Register from'./pages/Register';import Profile from'./pages/Profile';import Questions from'./pages/Questions';import Rankings from'./pages/Rankings';import Categories from'./pages/Categories';import About from'./pages/About';import HomePage from'./pages/HomePage';import History from'./pages/History';import Navbar from'./components/Navbar';import WordHuntGame from'./pages/games/WordHuntGame';import WritingGame from'./pages/games/WritingGame';import SelectLevel from'./pages/games/SelectLevel';import FillInTheBlanksGame from'./pages/games/FillInTheBlanksGame';import EssayWriting from'./pages/EssayWriting';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppRouter=()=>{const[token,setToken]=useState(()=>localStorage.getItem('token')||'');const[userImage,setUserImage]=useState(undefined);// On login, save token to localStorage\nconst handleLogin=jwt=>{setToken(jwt);localStorage.setItem('token',jwt);};// On logout, clear token from localStorage\nconst handleLogout=navigate=>{setToken('');localStorage.removeItem('token');navigate('/login');};// Wrapper to use navigate in Navbar\nconst NavbarWithNavigate=props=>{const navigate=useNavigate();const handleNavigate=target=>{if(target==='home'){navigate('/');}else{navigate('/'+target);}};const handleLogoutNav=()=>handleLogout(navigate);return/*#__PURE__*/_jsx(Navbar,{onNavigate:handleNavigate,token:token,onLogout:handleLogoutNav,userImage:userImage});};return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(NavbarWithNavigate,{userImage:userImage}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,onShowRegister:()=>{}})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{onShowLogin:()=>{}})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:token?/*#__PURE__*/_jsx(Profile,{token:token,onProfilePhotoChange:setUserImage}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/questions\",element:/*#__PURE__*/_jsx(Questions,{})}),/*#__PURE__*/_jsx(Route,{path:\"/kelime-avi\",element:/*#__PURE__*/_jsx(SelectLevel,{game:\"kelime-avi\"})}),/*#__PURE__*/_jsx(Route,{path:\"/kelime-avi-game\",element:/*#__PURE__*/_jsx(WordHuntGame,{})}),/*#__PURE__*/_jsx(Route,{path:\"/yazi-yazma\",element:/*#__PURE__*/_jsx(SelectLevel,{game:\"yazi-yazma\"})}),/*#__PURE__*/_jsx(Route,{path:\"/yazi-yazma-game\",element:/*#__PURE__*/_jsx(WritingGame,{})}),/*#__PURE__*/_jsx(Route,{path:\"/bosluk-doldurma\",element:/*#__PURE__*/_jsx(FillInTheBlanksGame,{})}),/*#__PURE__*/_jsx(Route,{path:\"/essay-writing\",element:/*#__PURE__*/_jsx(EssayWriting,{})}),/*#__PURE__*/_jsx(Route,{path:\"/rankings\",element:/*#__PURE__*/_jsx(Rankings,{token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/categories\",element:/*#__PURE__*/_jsx(Categories,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:/*#__PURE__*/_jsx(History,{token:token})}),/*#__PURE__*/_jsx(Route,{path:\"/exam/:testId\",element:/*#__PURE__*/_jsx(Exam,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})]});};export default AppRouter;","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","useNavigate","Navigate","Login","Exam","Register","Profile","Questions","Rankings","Categories","About","HomePage","History","Navbar","WordHuntGame","WritingGame","SelectLevel","FillInTheBlanksGame","EssayWriting","jsx","_jsx","jsxs","_jsxs","AppRouter","token","setToken","localStorage","getItem","userImage","setUserImage","undefined","handleLogin","jwt","setItem","handleLogout","navigate","removeItem","NavbarWithNavigate","props","handleNavigate","target","handleLogoutNav","onNavigate","onLogout","children","path","element","onLogin","onShowRegister","onShowLogin","onProfilePhotoChange","to","replace","game"],"sources":["/Users/yavuz/erasmus-exam-page/erasmus-exam-page/frontend/src/AppRouter.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useNavigate, Navigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Exam from './pages/Exam';\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport Questions from './pages/Questions';\nimport Rankings from './pages/Rankings';\nimport Categories from './pages/Categories';\nimport About from './pages/About';\nimport HomePage from './pages/HomePage';\nimport History from './pages/History';\nimport Navbar from './components/Navbar';\nimport WordHuntGame from './pages/games/WordHuntGame';\nimport WritingGame from './pages/games/WritingGame';\nimport SelectLevel from './pages/games/SelectLevel';\nimport EssayGame from './pages/games/EssayGame';\nimport FillInTheBlanksGame from './pages/games/FillInTheBlanksGame';\nimport EssayWriting from './pages/EssayWriting';\n\n\n\nconst AppRouter: React.FC = () => {\n  const [token, setToken] = useState(() => localStorage.getItem('token') || '');\n  const [userImage, setUserImage] = useState<string | undefined>(undefined);\n\n\n  // On login, save token to localStorage\n  const handleLogin = (jwt: string) => {\n    setToken(jwt);\n    localStorage.setItem('token', jwt);\n  };\n\n  // On logout, clear token from localStorage\n  const handleLogout = (navigate: (path: string) => void) => {\n    setToken('');\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  // Wrapper to use navigate in Navbar\n  const NavbarWithNavigate = (props: any) => {\n    const navigate = useNavigate();\n    const handleNavigate = (target: string) => {\n      if (target === 'home') {\n        navigate('/');\n      } else {\n        navigate('/' + target);\n      }\n    };\n    const handleLogoutNav = () => handleLogout(navigate);\n    return <Navbar onNavigate={handleNavigate} token={token} onLogout={handleLogoutNav} userImage={userImage} />;\n  };\n\n\n\n  return (\n    <Router>\n      <NavbarWithNavigate userImage={userImage} />\n      <Routes>\n        <Route path=\"/\" element={<HomePage token={token} />} />\n        <Route path=\"/login\" element={<Login onLogin={handleLogin} onShowRegister={() => {}} />} />\n        <Route path=\"/register\" element={<Register onShowLogin={() => {}} />} />\n        <Route path=\"/profile\" element={token ? <Profile token={token} onProfilePhotoChange={setUserImage} /> : <Navigate to=\"/login\" replace />} />\n        <Route path=\"/questions\" element={<Questions />} />\n        <Route path=\"/kelime-avi\" element={<SelectLevel game=\"kelime-avi\" />} />\n        <Route path=\"/kelime-avi-game\" element={<WordHuntGame />} />\n        <Route path=\"/yazi-yazma\" element={<SelectLevel game=\"yazi-yazma\" />} />\n        <Route path=\"/yazi-yazma-game\" element={<WritingGame />} />\n        <Route path=\"/bosluk-doldurma\" element={<FillInTheBlanksGame />} />\n        <Route path=\"/essay-writing\" element={<EssayWriting />} />\n        <Route path=\"/rankings\" element={<Rankings token={token} />} />\n        <Route path=\"/categories\" element={<Categories />} />\n        <Route path=\"/about\" element={<About />} />\n        <Route path=\"/history\" element={<History token={token} />} />\n        <Route path=\"/exam/:testId\" element={<Exam />} />\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAmB,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,kBAAkB,CAChG,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CAEnD,MAAO,CAAAC,mBAAmB,KAAM,mCAAmC,CACnE,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAIhD,KAAM,CAAAC,SAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAG7B,QAAQ,CAAC,IAAM8B,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,EAAE,CAAC,CAC7E,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGjC,QAAQ,CAAqBkC,SAAS,CAAC,CAGzE;AACA,KAAM,CAAAC,WAAW,CAAIC,GAAW,EAAK,CACnCP,QAAQ,CAACO,GAAG,CAAC,CACbN,YAAY,CAACO,OAAO,CAAC,OAAO,CAAED,GAAG,CAAC,CACpC,CAAC,CAED;AACA,KAAM,CAAAE,YAAY,CAAIC,QAAgC,EAAK,CACzDV,QAAQ,CAAC,EAAE,CAAC,CACZC,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,CAChCD,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAE,kBAAkB,CAAIC,KAAU,EAAK,CACzC,KAAM,CAAAH,QAAQ,CAAGlC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAsC,cAAc,CAAIC,MAAc,EAAK,CACzC,GAAIA,MAAM,GAAK,MAAM,CAAE,CACrBL,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAM,CACLA,QAAQ,CAAC,GAAG,CAAGK,MAAM,CAAC,CACxB,CACF,CAAC,CACD,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAMP,YAAY,CAACC,QAAQ,CAAC,CACpD,mBAAOf,IAAA,CAACP,MAAM,EAAC6B,UAAU,CAAEH,cAAe,CAACf,KAAK,CAAEA,KAAM,CAACmB,QAAQ,CAAEF,eAAgB,CAACb,SAAS,CAAEA,SAAU,CAAE,CAAC,CAC9G,CAAC,CAID,mBACEN,KAAA,CAACxB,MAAM,EAAA8C,QAAA,eACLxB,IAAA,CAACiB,kBAAkB,EAACT,SAAS,CAAEA,SAAU,CAAE,CAAC,cAC5CN,KAAA,CAACvB,MAAM,EAAA6C,QAAA,eACLxB,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE1B,IAAA,CAACT,QAAQ,EAACa,KAAK,CAAEA,KAAM,CAAE,CAAE,CAAE,CAAC,cACvDJ,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAE1B,IAAA,CAACjB,KAAK,EAAC4C,OAAO,CAAEhB,WAAY,CAACiB,cAAc,CAAEA,CAAA,GAAM,CAAC,CAAE,CAAE,CAAE,CAAE,CAAC,cAC3F5B,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE1B,IAAA,CAACf,QAAQ,EAAC4C,WAAW,CAAEA,CAAA,GAAM,CAAC,CAAE,CAAE,CAAE,CAAE,CAAC,cACxE7B,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,UAAU,CAACC,OAAO,CAAEtB,KAAK,cAAGJ,IAAA,CAACd,OAAO,EAACkB,KAAK,CAAEA,KAAM,CAAC0B,oBAAoB,CAAErB,YAAa,CAAE,CAAC,cAAGT,IAAA,CAAClB,QAAQ,EAACiD,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,cAC5IhC,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,YAAY,CAACC,OAAO,cAAE1B,IAAA,CAACb,SAAS,GAAE,CAAE,CAAE,CAAC,cACnDa,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,aAAa,CAACC,OAAO,cAAE1B,IAAA,CAACJ,WAAW,EAACqC,IAAI,CAAC,YAAY,CAAE,CAAE,CAAE,CAAC,cACxEjC,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAE1B,IAAA,CAACN,YAAY,GAAE,CAAE,CAAE,CAAC,cAC5DM,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,aAAa,CAACC,OAAO,cAAE1B,IAAA,CAACJ,WAAW,EAACqC,IAAI,CAAC,YAAY,CAAE,CAAE,CAAE,CAAC,cACxEjC,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAE1B,IAAA,CAACL,WAAW,GAAE,CAAE,CAAE,CAAC,cAC3DK,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,kBAAkB,CAACC,OAAO,cAAE1B,IAAA,CAACH,mBAAmB,GAAE,CAAE,CAAE,CAAC,cACnEG,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,gBAAgB,CAACC,OAAO,cAAE1B,IAAA,CAACF,YAAY,GAAE,CAAE,CAAE,CAAC,cAC1DE,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE1B,IAAA,CAACZ,QAAQ,EAACgB,KAAK,CAAEA,KAAM,CAAE,CAAE,CAAE,CAAC,cAC/DJ,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,aAAa,CAACC,OAAO,cAAE1B,IAAA,CAACX,UAAU,GAAE,CAAE,CAAE,CAAC,cACrDW,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAE1B,IAAA,CAACV,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CU,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,UAAU,CAACC,OAAO,cAAE1B,IAAA,CAACR,OAAO,EAACY,KAAK,CAAEA,KAAM,CAAE,CAAE,CAAE,CAAC,cAC7DJ,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,eAAe,CAACC,OAAO,cAAE1B,IAAA,CAAChB,IAAI,GAAE,CAAE,CAAE,CAAC,cACjDgB,IAAA,CAACpB,KAAK,EAAC6C,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE1B,IAAA,CAAClB,QAAQ,EAACiD,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAClD,CAAC,EACH,CAAC,CAEb,CAAC,CAED,cAAe,CAAA7B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}