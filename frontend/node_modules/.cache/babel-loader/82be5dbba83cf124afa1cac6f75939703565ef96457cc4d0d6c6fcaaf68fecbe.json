{"ast":null,"code":"var _jsxFileName = \"/Users/yavuz/Desktop/portfolio/erasmus-exam-page/frontend/src/pages/EssayWriting.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport setMetaTags from '../utils/seo';\nimport { Box, Typography, TextField, Button, Paper, Alert, LinearProgress, IconButton, Chip, Card, CardContent, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SendIcon from '@mui/icons-material/Send';\nimport AutoAwesomeIcon from '@mui/icons-material/AutoAwesome';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EssayTopics = [\"Some people think that social media has a negative impact on society. Do you agree or disagree?\", \"Many people believe that learning a foreign language is essential for career success. What is your opinion?\", \"Some argue that technology has made people less social. Discuss both views and give your opinion.\", \"Education should be free for everyone. Do you agree or disagree with this statement?\", \"The environment should be the government's top priority. Discuss your views on this topic.\"];\nexport default function EssayWriting() {\n  _s();\n  useEffect(() => {\n    setMetaTags({\n      title: 'Essay Yazma — İngilizce Essay Değerlendirme',\n      description: 'Essay yazma alıştırmaları ve otomatik değerlendirme. Essay’inizi yazın ve geri bildirim alın.',\n      keywords: 'essay yazma, essay değerlendirme, ingilizce essay',\n      canonical: '/essay-writing',\n      ogImage: '/social-preview.svg'\n    });\n  }, []);\n  const navigate = useNavigate();\n  const [selectedTopic, setSelectedTopic] = useState('');\n  const [customTopic, setCustomTopic] = useState('');\n  const [essayText, setEssayText] = useState('');\n  const [isEvaluating, setIsEvaluating] = useState(false);\n  const [evaluation, setEvaluation] = useState(null);\n  const [error, setError] = useState('');\n  const [showTopicDialog, setShowTopicDialog] = useState(true);\n  const [wordCount, setWordCount] = useState(0);\n  const [charCount, setCharCount] = useState(0);\n  const [turkishCharCount, setTurkishCharCount] = useState(0);\n  const [showLangDialog, setShowLangDialog] = useState(false);\n\n  // Parse feedback into readable bullet points\n  const feedbackBullets = React.useMemo(() => {\n    const text = ((evaluation === null || evaluation === void 0 ? void 0 : evaluation.feedback) || '').trim();\n    if (!text) return [];\n    // Prefer double-newline paragraph splits; otherwise split by sentence boundaries.\n    const paragraphs = text.split(/\\n{2,}/).map(s => s.trim()).filter(Boolean);\n    if (paragraphs.length > 1) return paragraphs;\n    const sentences = text.replace(/\\s+/g, ' ').split(/(?<=[.!?])\\s+/).map(s => s.trim()).filter(Boolean);\n    return sentences;\n  }, [evaluation === null || evaluation === void 0 ? void 0 : evaluation.feedback]);\n  const handleTopicSelect = topic => {\n    setSelectedTopic(topic);\n    setShowTopicDialog(false);\n  };\n  const handleCustomTopic = () => {\n    if (customTopic.trim()) {\n      setSelectedTopic(customTopic);\n      setShowTopicDialog(false);\n    }\n  };\n  const handleEssayChange = e => {\n    const text = e.target.value;\n    setEssayText(text);\n    setWordCount(text.trim().split(/\\s+/).filter(word => word.length > 0).length);\n    setCharCount(text.trim().length);\n\n    // Count Turkish-specific characters (ı,ğ,ş,ç,ö,ü and uppercase variants)\n    const trMatches = text.match(/[ığüşöçİĞÜŞÖÇ]/g) || [];\n    setTurkishCharCount(trMatches.length);\n  };\n  const evaluateEssay = async () => {\n    if (!essayText.trim()) {\n      setError('Lütfen essay metninizi yazın.');\n      return;\n    }\n    if (charCount < 100) {\n      setError(\"Essay’inizin değerlendirilebilmesi için minimum 100 karakter olmalıdır.\");\n      return;\n    }\n\n    // Block evaluation if Turkish character count exceeds the limit\n    if (turkishCharCount > 10) {\n      setShowLangDialog(true);\n      return;\n    }\n    setIsEvaluating(true);\n    setError('');\n    try {\n      const response = await fetch('http://localhost:4000/api/essays/evaluate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          essayText,\n          topic: selectedTopic\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || 'Essay değerlendirme hatası');\n      }\n      setEvaluation(data);\n    } catch (err) {\n      console.error('Essay evaluation error:', err);\n      setError(err.message || 'Essay değerlendirme sırasında hata oluştu.');\n    } finally {\n      setIsEvaluating(false);\n    }\n  };\n  const getScoreColor = (score, isOverall = false) => {\n    if (isOverall) {\n      // Overall score is 0-100\n      if (score >= 80) return '#4caf50'; // Green\n      if (score >= 60) return '#ff9800'; // Orange\n      return '#f44336'; // Red\n    } else {\n      // Sub-scores are 1-10\n      if (score >= 8) return '#4caf50'; // Green\n      if (score >= 6) return '#ff9800'; // Orange\n      return '#f44336'; // Red\n    }\n  };\n  const getScoreLabel = (score, isOverall = false) => {\n    if (isOverall) {\n      // Overall score is 0-100\n      if (score >= 90) return 'Mükemmel';\n      if (score >= 80) return 'Çok İyi';\n      if (score >= 70) return 'İyi';\n      if (score >= 60) return 'Yeterli';\n      if (score >= 50) return 'Orta';\n      return 'Geliştirilmeli';\n    } else {\n      // Sub-scores are 1-10\n      if (score >= 9) return 'Mükemmel';\n      if (score >= 8) return 'Çok İyi';\n      if (score >= 7) return 'İyi';\n      if (score >= 6) return 'Yeterli';\n      if (score >= 5) return 'Orta';\n      return 'Geliştirilmeli';\n    }\n  };\n  const resetEssay = () => {\n    setEssayText('');\n    setEvaluation(null);\n    setError('');\n    setWordCount(0);\n    setShowTopicDialog(true);\n    setSelectedTopic('');\n    setCustomTopic('');\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      background: '#b2dfdb',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      px: 2,\n      pt: 0,\n      pb: {\n        xs: 12,\n        md: 16\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      open: showTopicDialog,\n      onClose: () => setShowTopicDialog(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          borderRadius: 3\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        sx: {\n          background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n          color: '#fff',\n          textAlign: 'center',\n          fontWeight: 700\n        },\n        children: [/*#__PURE__*/_jsxDEV(AutoAwesomeIcon, {\n          sx: {\n            mr: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), \" Essay Konusu Se\\xE7in\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          pt: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            mb: 2,\n            color: '#333',\n            mt: '10px'\n          },\n          children: \"\\xD6nerilen Konular:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 2\n          },\n          children: EssayTopics.map((topic, index) => /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              cursor: 'pointer',\n              '&:hover': {\n                bgcolor: '#e3f2fd',\n                transform: 'translateY(-2px)',\n                boxShadow: 4\n              },\n              transition: 'all 0.3s'\n            },\n            onClick: () => handleTopicSelect(topic),\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                sx: {\n                  fontWeight: 500\n                },\n                children: topic\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            mt: 4,\n            mb: 2,\n            color: '#333'\n          },\n          children: \"Veya Kendi Konunuzu Yaz\\u0131n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          multiline: true,\n          rows: 3,\n          value: customTopic,\n          onChange: e => setCustomTopic(e.target.value),\n          placeholder: \"Kendi essay konunuzu yaz\\u0131n...\",\n          variant: \"outlined\",\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          p: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleCustomTopic,\n          disabled: !customTopic.trim(),\n          sx: {\n            background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n            color: '#fff',\n            fontWeight: 700,\n            borderRadius: 2,\n            px: 3,\n            textTransform: 'none',\n            '&:hover': {\n              background: 'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)'\n            }\n          },\n          children: \"\\xD6zel Konu Kullan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 6,\n      sx: {\n        width: '100%',\n        maxWidth: 1000,\n        borderRadius: 4,\n        overflow: 'hidden',\n        mt: {\n          xs: 1,\n          md: '15px'\n        },\n        background: 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)',\n        backdropFilter: 'blur(10px)',\n        border: '1px solid rgba(255, 255, 255, 0.2)',\n        boxShadow: '0 20px 40px rgba(0, 0, 0, 0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n          color: '#fff',\n          p: {\n            xs: 3,\n            md: 4\n          },\n          textAlign: 'center',\n          position: 'relative',\n          overflow: 'hidden',\n          '&::before': {\n            content: '\"\"',\n            position: 'absolute',\n            inset: 0,\n            background: 'rgba(255,255,255,0.1)',\n            backdropFilter: 'blur(5px)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: 'relative',\n            zIndex: 1,\n            minHeight: {\n              xs: 56,\n              md: 'auto'\n            },\n            display: {\n              xs: 'block',\n              md: 'flex'\n            },\n            alignItems: {\n              md: 'center'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => navigate('/questions'),\n            sx: {\n              color: '#fff',\n              position: {\n                xs: 'absolute',\n                md: 'static'\n              },\n              left: {\n                xs: 8,\n                md: 'auto'\n              },\n              top: {\n                xs: '50%',\n                md: 'auto'\n              },\n              transform: {\n                xs: 'translateY(-50%)',\n                md: 'none'\n              }\n            },\n            \"aria-label\": \"Geri d\\xF6n\",\n            children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            sx: {\n              fontWeight: 700,\n              textAlign: 'center',\n              position: {\n                xs: 'absolute',\n                md: 'static'\n              },\n              left: {\n                xs: '50%',\n                md: 'auto'\n              },\n              top: {\n                xs: '50%',\n                md: 'auto'\n              },\n              transform: {\n                xs: 'translate(-50%, -50%)',\n                md: 'none'\n              },\n              width: {\n                xs: '80%',\n                md: 'auto'\n              },\n              fontSize: {\n                xs: '1.35rem',\n                md: '2rem'\n              },\n              mx: {\n                md: 'auto'\n              },\n              whiteSpace: {\n                xs: 'nowrap',\n                md: 'normal'\n              },\n              overflow: 'hidden',\n              textOverflow: 'ellipsis'\n            },\n            children: [/*#__PURE__*/_jsxDEV(AutoAwesomeIcon, {\n              sx: {\n                mr: 1,\n                verticalAlign: 'middle'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), \" AI Essay De\\u011Ferlendirici\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: {\n            xs: 3,\n            md: 4\n          }\n        },\n        children: [selectedTopic && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              mb: 1,\n              color: '#00695c'\n            },\n            children: \"Se\\xE7ilen Konu:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              background: 'rgba(0, 184, 148, 0.08)',\n              border: '1px solid rgba(0, 184, 148, 0.25)',\n              borderRadius: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                fontStyle: 'italic'\n              },\n              children: [\"\\\"\", selectedTopic, \"\\\"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            onClick: () => setShowTopicDialog(true),\n            sx: {\n              mt: 1,\n              borderColor: 'rgba(0, 184, 148, 0.5)',\n              color: '#00796b',\n              fontWeight: 600,\n              textTransform: 'none',\n              '&:hover': {\n                borderColor: '#00b894',\n                background: 'rgba(0, 184, 148, 0.08)'\n              }\n            },\n            children: \"Konu De\\u011Fi\\u015Ftir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: evaluation ? 'row' : 'column',\n            gap: 3,\n            '@media (max-width: 900px)': {\n              flexDirection: 'column'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: evaluation ? 1 : 'auto',\n              minWidth: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              sx: {\n                p: 3,\n                borderRadius: 3,\n                background: 'rgba(255,255,255,0.9)',\n                border: '1px solid rgba(0, 184, 148, 0.15)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  flexDirection: {\n                    xs: 'column',\n                    sm: 'row'\n                  },\n                  justifyContent: {\n                    xs: 'flex-start',\n                    sm: 'space-between'\n                  },\n                  alignItems: {\n                    xs: 'flex-start',\n                    sm: 'center'\n                  },\n                  mb: 1.5,\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  sx: {\n                    fontWeight: 600,\n                    color: '#2c3e50',\n                    whiteSpace: {\n                      xs: 'nowrap',\n                      sm: 'normal'\n                    }\n                  },\n                  children: \"Essay Yazma Alan\\u0131\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    gap: 1,\n                    alignItems: 'center',\n                    mt: {\n                      xs: 0.5,\n                      sm: 0\n                    }\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Chip, {\n                    label: `${wordCount} kelime`,\n                    sx: {\n                      borderColor: 'rgba(0, 184, 148, 0.4)',\n                      color: '#00695c',\n                      fontWeight: 600\n                    },\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    label: `${charCount} karakter`,\n                    sx: {\n                      borderColor: 'rgba(0, 184, 148, 0.4)',\n                      color: '#00695c',\n                      fontWeight: 600\n                    },\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  display: 'block',\n                  mb: 1.5,\n                  color: '#607d8b'\n                },\n                children: \"Kelime say\\u0131s\\u0131 yaln\\u0131zca bilgilendirme ama\\xE7l\\u0131d\\u0131r; herhangi bir s\\u0131n\\u0131rlama yoktur.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                multiline: true,\n                rows: 20,\n                value: essayText,\n                onChange: handleEssayChange,\n                placeholder: \"Essay\\u2019inizi buraya yaz\\u0131n\\u0131z...\",\n                variant: \"outlined\",\n                sx: {\n                  mb: 1,\n                  '& .MuiInputBase-root': {\n                    background: 'rgba(255,255,255,0.95)'\n                  },\n                  '& .MuiInputBase-input': {\n                    fontSize: '16px',\n                    lineHeight: 1.6\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mb: 1,\n                  fontWeight: 600,\n                  color: charCount < 100 ? '#e53935' : '#2e7d32'\n                },\n                children: \"Essay\\u2019inizin de\\u011Ferlendirilebilmesi i\\xE7in minimum 100 karakter olmal\\u0131d\\u0131r.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mb: 2,\n                  color: '#00695c'\n                },\n                children: [\"\\u0130pucu: Ortalama bilgilendirici bir essay i\\xE7in \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"170\\u2013190 kelime\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 65\n                }, this), \" aral\\u0131\\u011F\\u0131 idealdir (zorunlu de\\u011Fildir).\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n                severity: \"error\",\n                sx: {\n                  mb: 2\n                },\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  gap: 2,\n                  flexWrap: 'wrap'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: evaluateEssay,\n                  disabled: isEvaluating || charCount < 100,\n                  startIcon: isEvaluating ? null : /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 54\n                  }, this),\n                  sx: {\n                    background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n                    color: '#fff',\n                    fontWeight: 700,\n                    borderRadius: 2,\n                    px: 3,\n                    textTransform: 'none',\n                    '&:hover': {\n                      background: 'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)'\n                    }\n                  },\n                  children: isEvaluating ? 'Değerlendiriliyor...' : \"Essay'i Değerlendir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  onClick: resetEssay,\n                  disabled: isEvaluating,\n                  sx: {\n                    borderColor: 'rgba(0, 184, 148, 0.5)',\n                    color: '#00796b',\n                    fontWeight: 600,\n                    textTransform: 'none',\n                    '&:hover': {\n                      borderColor: '#00b894',\n                      background: 'rgba(0, 184, 148, 0.08)'\n                    }\n                  },\n                  children: \"Yeni Essay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                open: showLangDialog,\n                onClose: () => setShowLangDialog(false),\n                maxWidth: \"xs\",\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                  children: \"Essay Dili Hakk\\u0131nda\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    children: [\"Metninizde \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: turkishCharCount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 506,\n                      columnNumber: 34\n                    }, this), \" adet T\\xFCrk\\xE7e karakter tespit edildi. L\\xFCtfen essay\\u2019i \\u0130ngilizce yaz\\u0131n.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => setShowLangDialog(false),\n                    autoFocus: true,\n                    children: \"Tamam\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this), isEvaluating && /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(LinearProgress, {\n                  sx: {\n                    height: 8,\n                    borderRadius: 4,\n                    bgcolor: 'rgba(0, 184, 148, 0.1)',\n                    '& .MuiLinearProgress-bar': {\n                      background: 'linear-gradient(90deg, #00b894 0%, #00cec9 100%)'\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    mt: 1,\n                    textAlign: 'center',\n                    color: '#00695c'\n                  },\n                  children: \"AI essay'inizi analiz ediyor...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), evaluation && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: 1,\n              minWidth: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              sx: {\n                p: 3,\n                borderRadius: 3,\n                background: 'rgba(255,255,255,0.9)',\n                border: '1px solid rgba(0, 184, 148, 0.15)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  fontWeight: 600,\n                  mb: 3,\n                  color: '#2c3e50'\n                },\n                children: [/*#__PURE__*/_jsxDEV(AutoAwesomeIcon, {\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 21\n                }, this), \" AI De\\u011Ferlendirme Sonucu\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  mb: 3,\n                  background: 'rgba(0, 184, 148, 0.06)',\n                  border: '1px solid rgba(0, 184, 148, 0.15)'\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  sx: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h4\",\n                    sx: {\n                      fontWeight: 700,\n                      color: getScoreColor(evaluation.scores.overall, true),\n                      mb: 1\n                    },\n                    children: [evaluation.scores.overall, \"/100\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    sx: {\n                      color: '#666'\n                    },\n                    children: \"Genel Puan\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    label: getScoreLabel(evaluation.scores.overall, true),\n                    sx: {\n                      bgcolor: getScoreColor(evaluation.scores.overall, true),\n                      color: 'white',\n                      fontWeight: 600,\n                      mt: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mb: 3\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  sx: {\n                    mb: 2\n                  },\n                  children: \"Detayl\\u0131 Puanlama:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this), [{\n                  key: 'task_response',\n                  label: 'Görev Yanıtı'\n                }, {\n                  key: 'coherence_cohesion',\n                  label: 'Tutarlılık & Bağlantı'\n                }, {\n                  key: 'lexical_resource',\n                  label: 'Kelime Bilgisi'\n                }, {\n                  key: 'grammar',\n                  label: 'Dilbilgisi'\n                }].map(({\n                  key,\n                  label\n                }) => {\n                  const score = evaluation.scores[key];\n                  return /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      mb: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        mb: 1\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body1\",\n                        children: label\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 570,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body1\",\n                        sx: {\n                          fontWeight: 600,\n                          color: getScoreColor(score)\n                        },\n                        children: [score, \"/9\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n                      variant: \"determinate\",\n                      value: score / 9 * 100,\n                      sx: {\n                        height: 8,\n                        borderRadius: 4,\n                        bgcolor: '#e0e0e0',\n                        '& .MuiLinearProgress-bar': {\n                          bgcolor: getScoreColor(score),\n                          borderRadius: 4\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 581,\n                      columnNumber: 27\n                    }, this)]\n                  }, key, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 25\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  sx: {\n                    mb: 2\n                  },\n                  children: \"AI Geri Bildirim:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    bgcolor: '#f8f9fa',\n                    border: '1px solid #e0e0e0'\n                  },\n                  children: feedbackBullets.length <= 1 ? /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    sx: {\n                      lineHeight: 1.7\n                    },\n                    children: evaluation.feedback\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Box, {\n                    component: \"ul\",\n                    sx: {\n                      m: 0,\n                      pl: 3\n                    },\n                    children: feedbackBullets.map((b, idx) => /*#__PURE__*/_jsxDEV(Box, {\n                      component: \"li\",\n                      sx: {\n                        mb: 1.2\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body1\",\n                        sx: {\n                          lineHeight: 1.7\n                        },\n                        children: b\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 613,\n                        columnNumber: 31\n                      }, this)\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 612,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_s(EssayWriting, \"TymLFyxW35lMaaXb7Eke1dNvOcU=\", false, function () {\n  return [useNavigate];\n});\n_c = EssayWriting;\nvar _c;\n$RefreshReg$(_c, \"EssayWriting\");","map":{"version":3,"names":["React","useState","useEffect","setMetaTags","Box","Typography","TextField","Button","Paper","Alert","LinearProgress","IconButton","Chip","Card","CardContent","Dialog","DialogTitle","DialogContent","DialogActions","ArrowBackIcon","SendIcon","AutoAwesomeIcon","useNavigate","jsxDEV","_jsxDEV","EssayTopics","EssayWriting","_s","title","description","keywords","canonical","ogImage","navigate","selectedTopic","setSelectedTopic","customTopic","setCustomTopic","essayText","setEssayText","isEvaluating","setIsEvaluating","evaluation","setEvaluation","error","setError","showTopicDialog","setShowTopicDialog","wordCount","setWordCount","charCount","setCharCount","turkishCharCount","setTurkishCharCount","showLangDialog","setShowLangDialog","feedbackBullets","useMemo","text","feedback","trim","paragraphs","split","map","s","filter","Boolean","length","sentences","replace","handleTopicSelect","topic","handleCustomTopic","handleEssayChange","e","target","value","word","trMatches","match","evaluateEssay","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","err","console","message","getScoreColor","score","isOverall","getScoreLabel","resetEssay","sx","minHeight","background","display","justifyContent","alignItems","px","pt","pb","xs","md","children","open","onClose","maxWidth","fullWidth","PaperProps","borderRadius","color","textAlign","fontWeight","mr","fileName","_jsxFileName","lineNumber","columnNumber","variant","mb","mt","flexDirection","gap","index","cursor","bgcolor","transform","boxShadow","transition","onClick","multiline","rows","onChange","placeholder","p","disabled","textTransform","elevation","width","overflow","backdropFilter","border","position","content","inset","zIndex","left","top","fontSize","mx","whiteSpace","textOverflow","verticalAlign","fontStyle","size","borderColor","flex","minWidth","sm","label","lineHeight","severity","flexWrap","startIcon","autoFocus","height","scores","overall","key","component","m","pl","b","idx","_c","$RefreshReg$"],"sources":["/Users/yavuz/Desktop/portfolio/erasmus-exam-page/frontend/src/pages/EssayWriting.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport setMetaTags from '../utils/seo';\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Paper,\n  Alert,\n  LinearProgress,\n  IconButton,\n  Chip,\n  Card,\n  CardContent,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SendIcon from '@mui/icons-material/Send';\nimport AutoAwesomeIcon from '@mui/icons-material/AutoAwesome';\nimport { useNavigate } from 'react-router-dom';\n\ninterface EssayScores {\n  task_response: number;\n  coherence_cohesion: number;\n  lexical_resource: number;\n  grammar: number;\n  overall: number;\n}\n\ninterface EssayEvaluation {\n  scores: EssayScores;\n  feedback: string;\n}\n\nconst EssayTopics = [\n  \"Some people think that social media has a negative impact on society. Do you agree or disagree?\",\n  \"Many people believe that learning a foreign language is essential for career success. What is your opinion?\",\n  \"Some argue that technology has made people less social. Discuss both views and give your opinion.\",\n  \"Education should be free for everyone. Do you agree or disagree with this statement?\",\n  \"The environment should be the government's top priority. Discuss your views on this topic.\"\n];\n\nexport default function EssayWriting() {\n  useEffect(() => {\n    setMetaTags({\n      title: 'Essay Yazma — İngilizce Essay Değerlendirme',\n      description: 'Essay yazma alıştırmaları ve otomatik değerlendirme. Essay’inizi yazın ve geri bildirim alın.',\n      keywords: 'essay yazma, essay değerlendirme, ingilizce essay',\n      canonical: '/essay-writing',\n      ogImage: '/social-preview.svg'\n    });\n  }, []);\n  const navigate = useNavigate();\n  const [selectedTopic, setSelectedTopic] = useState<string>('');\n  const [customTopic, setCustomTopic] = useState<string>('');\n  const [essayText, setEssayText] = useState<string>('');\n  const [isEvaluating, setIsEvaluating] = useState<boolean>(false);\n  const [evaluation, setEvaluation] = useState<EssayEvaluation | null>(null);\n  const [error, setError] = useState<string>('');\n  const [showTopicDialog, setShowTopicDialog] = useState<boolean>(true);\n  const [wordCount, setWordCount] = useState<number>(0);\n  const [charCount, setCharCount] = useState<number>(0);\n  const [turkishCharCount, setTurkishCharCount] = useState<number>(0);\n  const [showLangDialog, setShowLangDialog] = useState<boolean>(false);\n\n  // Parse feedback into readable bullet points\n  const feedbackBullets = React.useMemo(() => {\n    const text = (evaluation?.feedback || '').trim();\n    if (!text) return [] as string[];\n    // Prefer double-newline paragraph splits; otherwise split by sentence boundaries.\n    const paragraphs = text.split(/\\n{2,}/).map(s => s.trim()).filter(Boolean);\n    if (paragraphs.length > 1) return paragraphs;\n    const sentences = text\n      .replace(/\\s+/g, ' ')\n      .split(/(?<=[.!?])\\s+/)\n      .map(s => s.trim())\n      .filter(Boolean);\n    return sentences;\n  }, [evaluation?.feedback]);\n\n  const handleTopicSelect = (topic: string) => {\n    setSelectedTopic(topic);\n    setShowTopicDialog(false);\n  };\n\n  const handleCustomTopic = () => {\n    if (customTopic.trim()) {\n      setSelectedTopic(customTopic);\n      setShowTopicDialog(false);\n    }\n  };\n\n  const handleEssayChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const text = e.target.value;\n    setEssayText(text);\n    setWordCount(text.trim().split(/\\s+/).filter(word => word.length > 0).length);\n  setCharCount(text.trim().length);\n\n  // Count Turkish-specific characters (ı,ğ,ş,ç,ö,ü and uppercase variants)\n  const trMatches = text.match(/[ığüşöçİĞÜŞÖÇ]/g) || [];\n  setTurkishCharCount(trMatches.length);\n  };\n\n  const evaluateEssay = async () => {\n    if (!essayText.trim()) {\n      setError('Lütfen essay metninizi yazın.');\n      return;\n    }\n\n    if (charCount < 100) {\n      setError(\"Essay’inizin değerlendirilebilmesi için minimum 100 karakter olmalıdır.\");\n      return;\n    }\n\n    // Block evaluation if Turkish character count exceeds the limit\n    if (turkishCharCount > 10) {\n      setShowLangDialog(true);\n      return;\n    }\n\n    setIsEvaluating(true);\n    setError('');\n\n    try {\n      const response = await fetch('http://localhost:4000/api/essays/evaluate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ essayText, topic: selectedTopic })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Essay değerlendirme hatası');\n      }\n\n      setEvaluation(data);\n    } catch (err: any) {\n      console.error('Essay evaluation error:', err);\n      setError(err.message || 'Essay değerlendirme sırasında hata oluştu.');\n    } finally {\n      setIsEvaluating(false);\n    }\n  };\n\n  const getScoreColor = (score: number, isOverall: boolean = false) => {\n    if (isOverall) {\n      // Overall score is 0-100\n      if (score >= 80) return '#4caf50'; // Green\n      if (score >= 60) return '#ff9800'; // Orange\n      return '#f44336'; // Red\n    } else {\n      // Sub-scores are 1-10\n      if (score >= 8) return '#4caf50'; // Green\n      if (score >= 6) return '#ff9800'; // Orange\n      return '#f44336'; // Red\n    }\n  };\n\n  const getScoreLabel = (score: number, isOverall: boolean = false) => {\n    if (isOverall) {\n      // Overall score is 0-100\n      if (score >= 90) return 'Mükemmel';\n      if (score >= 80) return 'Çok İyi';\n      if (score >= 70) return 'İyi';\n      if (score >= 60) return 'Yeterli';\n      if (score >= 50) return 'Orta';\n      return 'Geliştirilmeli';\n    } else {\n      // Sub-scores are 1-10\n      if (score >= 9) return 'Mükemmel';\n      if (score >= 8) return 'Çok İyi';\n      if (score >= 7) return 'İyi';\n      if (score >= 6) return 'Yeterli';\n      if (score >= 5) return 'Orta';\n      return 'Geliştirilmeli';\n    }\n  };\n\n  const resetEssay = () => {\n    setEssayText('');\n    setEvaluation(null);\n    setError('');\n    setWordCount(0);\n    setShowTopicDialog(true);\n    setSelectedTopic('');\n    setCustomTopic('');\n  };\n\n  return (\n    <Box sx={{\n      minHeight: '100vh',\n      background: '#b2dfdb',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      px: 2,\n      pt: 0,\n      pb: { xs: 12, md: 16 },\n    }}>\n      {/* Topic Selection Dialog - themed */}\n      <Dialog \n        open={showTopicDialog} \n        onClose={() => setShowTopicDialog(false)}\n        maxWidth=\"md\" \n        fullWidth\n        PaperProps={{ sx: { borderRadius: 3 } }}\n      >\n        <DialogTitle sx={{\n          background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n          color: '#fff',\n          textAlign: 'center',\n          fontWeight: 700,\n        }}>\n          <AutoAwesomeIcon sx={{ mr: 1 }} /> Essay Konusu Seçin\n        </DialogTitle>\n        <DialogContent sx={{ pt: 3 }}>\n          <Typography variant=\"h6\" sx={{ mb: 2, color: '#333', mt: '10px' }}>\n            Önerilen Konular:\n          </Typography>\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n            {EssayTopics.map((topic, index) => (\n              <Card \n                key={index}\n                sx={{ \n                  cursor: 'pointer',\n                  '&:hover': {\n                    bgcolor: '#e3f2fd',\n                    transform: 'translateY(-2px)',\n                    boxShadow: 4\n                  },\n                  transition: 'all 0.3s'\n                }}\n                onClick={() => handleTopicSelect(topic)}\n              >\n                <CardContent>\n                  <Typography variant=\"body1\" sx={{ fontWeight: 500 }}>\n                    {topic}\n                  </Typography>\n                </CardContent>\n              </Card>\n            ))}\n          </Box>\n          \n          <Typography variant=\"h6\" sx={{ mt: 4, mb: 2, color: '#333' }}>\n            Veya Kendi Konunuzu Yazın:\n          </Typography>\n          <TextField\n            fullWidth\n            multiline\n            rows={3}\n            value={customTopic}\n            onChange={(e) => setCustomTopic(e.target.value)}\n            placeholder=\"Kendi essay konunuzu yazın...\"\n            variant=\"outlined\"\n            sx={{ mb: 2 }}\n          />\n        </DialogContent>\n        <DialogActions sx={{ p: 3 }}>\n          <Button\n            variant=\"contained\"\n            onClick={handleCustomTopic}\n            disabled={!customTopic.trim()}\n            sx={{\n              background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n              color: '#fff',\n              fontWeight: 700,\n              borderRadius: 2,\n              px: 3,\n              textTransform: 'none',\n              '&:hover': {\n                background: 'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)',\n              }\n            }}\n          >\n            Özel Konu Kullan\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Main Card */}\n      <Paper\n        elevation={6}\n        sx={{\n          width: '100%',\n          maxWidth: 1000,\n          borderRadius: 4,\n          overflow: 'hidden',\n          mt: { xs: 1, md: '15px' },\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)',\n          backdropFilter: 'blur(10px)',\n          border: '1px solid rgba(255, 255, 255, 0.2)',\n          boxShadow: '0 20px 40px rgba(0, 0, 0, 0.1)'\n        }}\n      >\n        {/* Gradient Header merged with card */}\n        <Box sx={{\n          background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n          color: '#fff',\n          p: { xs: 3, md: 4 },\n          textAlign: 'center',\n          position: 'relative',\n          overflow: 'hidden',\n          '&::before': {\n            content: '\"\"',\n            position: 'absolute',\n            inset: 0,\n            background: 'rgba(255,255,255,0.1)',\n            backdropFilter: 'blur(5px)',\n          }\n        }}>\n          <Box\n            sx={{\n              position: 'relative',\n              zIndex: 1,\n              minHeight: { xs: 56, md: 'auto' },\n              display: { xs: 'block', md: 'flex' },\n              alignItems: { md: 'center' },\n            }}\n          >\n            {/* Back button: fixed left on mobile, inline on md+ */}\n            <IconButton\n              onClick={() => navigate('/questions')}\n              sx={{\n                color: '#fff',\n                position: { xs: 'absolute', md: 'static' },\n                left: { xs: 8, md: 'auto' },\n                top: { xs: '50%', md: 'auto' },\n                transform: { xs: 'translateY(-50%)', md: 'none' },\n              }}\n              aria-label=\"Geri dön\"\n            >\n              <ArrowBackIcon />\n            </IconButton>\n\n            {/* Title: perfectly centered on mobile */}\n            <Typography\n              variant=\"h4\"\n              sx={{\n                fontWeight: 700,\n                textAlign: 'center',\n                position: { xs: 'absolute', md: 'static' },\n                left: { xs: '50%', md: 'auto' },\n                top: { xs: '50%', md: 'auto' },\n                transform: { xs: 'translate(-50%, -50%)', md: 'none' },\n                width: { xs: '80%', md: 'auto' },\n                fontSize: { xs: '1.35rem', md: '2rem' },\n                mx: { md: 'auto' },\n                whiteSpace: { xs: 'nowrap', md: 'normal' },\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n              }}\n            >\n              <AutoAwesomeIcon sx={{ mr: 1, verticalAlign: 'middle' }} /> AI Essay Değerlendirici\n            </Typography>\n          </Box>\n        </Box>\n\n        {/* Content */}\n        <Box sx={{ p: { xs: 3, md: 4 } }}>\n          {/* Selected Topic */}\n          {selectedTopic && (\n            <Box sx={{ mb: 3 }}>\n              <Typography variant=\"h6\" sx={{ mb: 1, color: '#00695c' }}>Seçilen Konu:</Typography>\n              <Paper sx={{ p: 2, background: 'rgba(0, 184, 148, 0.08)', border: '1px solid rgba(0, 184, 148, 0.25)', borderRadius: 2 }}>\n                <Typography variant=\"body1\" sx={{ fontStyle: 'italic' }}>\"{selectedTopic}\"</Typography>\n              </Paper>\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={() => setShowTopicDialog(true)}\n                sx={{\n                  mt: 1,\n                  borderColor: 'rgba(0, 184, 148, 0.5)',\n                  color: '#00796b',\n                  fontWeight: 600,\n                  textTransform: 'none',\n                  '&:hover': { borderColor: '#00b894', background: 'rgba(0, 184, 148, 0.08)' }\n                }}\n              >\n                Konu Değiştir\n              </Button>\n            </Box>\n          )}\n\n          {/* Layout */}\n          <Box sx={{ display: 'flex', flexDirection: evaluation ? 'row' : 'column', gap: 3, '@media (max-width: 900px)': { flexDirection: 'column' } }}>\n            {/* Writing Area */}\n            <Box sx={{ flex: evaluation ? 1 : 'auto', minWidth: 0 }}>\n              <Paper sx={{ p: 3, borderRadius: 3, background: 'rgba(255,255,255,0.9)', border: '1px solid rgba(0, 184, 148, 0.15)' }}>\n                <Box\n                  sx={{\n                    display: 'flex',\n                    flexDirection: { xs: 'column', sm: 'row' },\n                    justifyContent: { xs: 'flex-start', sm: 'space-between' },\n                    alignItems: { xs: 'flex-start', sm: 'center' },\n                    mb: 1.5,\n                    gap: 1,\n                  }}\n                >\n                  <Typography\n                    variant=\"h6\"\n                    sx={{ fontWeight: 600, color: '#2c3e50', whiteSpace: { xs: 'nowrap', sm: 'normal' } }}\n                  >\n                    Essay Yazma Alanı\n                  </Typography>\n                  <Box sx={{ display: 'flex', gap: 1, alignItems: 'center', mt: { xs: 0.5, sm: 0 } }}>\n                    <Chip \n                      label={`${wordCount} kelime`}\n                      sx={{\n                        borderColor: 'rgba(0, 184, 148, 0.4)',\n                        color: '#00695c',\n                        fontWeight: 600\n                      }}\n                      variant=\"outlined\"\n                    />\n                    <Chip \n                      label={`${charCount} karakter`}\n                      sx={{\n                        borderColor: 'rgba(0, 184, 148, 0.4)',\n                        color: '#00695c',\n                        fontWeight: 600\n                      }}\n                      variant=\"outlined\"\n                    />\n                  </Box>\n                </Box>\n                <Typography variant=\"caption\" sx={{ display: 'block', mb: 1.5, color: '#607d8b' }}>\n                  Kelime sayısı yalnızca bilgilendirme amaçlıdır; herhangi bir sınırlama yoktur.\n                </Typography>\n\n                <TextField\n                  fullWidth\n                  multiline\n                  rows={20}\n                  value={essayText}\n                  onChange={handleEssayChange}\n                  placeholder=\"Essay’inizi buraya yazınız...\"\n                  variant=\"outlined\"\n                  sx={{\n                    mb: 1,\n                    '& .MuiInputBase-root': { background: 'rgba(255,255,255,0.95)' },\n                    '& .MuiInputBase-input': { fontSize: '16px', lineHeight: 1.6 }\n                  }}\n                />\n\n                <Typography variant=\"body2\" sx={{ mb: 1, fontWeight: 600, color: charCount < 100 ? '#e53935' : '#2e7d32' }}>\n                  Essay’inizin değerlendirilebilmesi için minimum 100 karakter olmalıdır.\n                </Typography>\n                <Typography variant=\"body2\" sx={{ mb: 2, color: '#00695c' }}>\n                  İpucu: Ortalama bilgilendirici bir essay için <strong>170–190 kelime</strong> aralığı idealdir (zorunlu değildir).\n                </Typography>\n\n                {error && (\n                  <Alert severity=\"error\" sx={{ mb: 2 }}>\n                    {error}\n                  </Alert>\n                )}\n\n\n                <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n                  <Button\n                    variant=\"contained\"\n                    onClick={evaluateEssay}\n                    disabled={isEvaluating || charCount < 100}\n                    startIcon={isEvaluating ? null : <SendIcon />}\n                    sx={{\n                      background: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',\n                      color: '#fff',\n                      fontWeight: 700,\n                      borderRadius: 2,\n                      px: 3,\n                      textTransform: 'none',\n                      '&:hover': { background: 'linear-gradient(135deg, #00a085 0%, #00b8b3 100%)' }\n                    }}\n                  >\n                    {isEvaluating ? 'Değerlendiriliyor...' : \"Essay'i Değerlendir\"}\n                  </Button>\n\n                  <Button\n                    variant=\"outlined\"\n                    onClick={resetEssay}\n                    disabled={isEvaluating}\n                    sx={{\n                      borderColor: 'rgba(0, 184, 148, 0.5)',\n                      color: '#00796b',\n                      fontWeight: 600,\n                      textTransform: 'none',\n                      '&:hover': { borderColor: '#00b894', background: 'rgba(0, 184, 148, 0.08)' }\n                    }}\n                  >\n                    Yeni Essay\n                  </Button>\n                </Box>\n\n                {/* Blocking popup if Turkish character count exceeds 10 */}\n                <Dialog open={showLangDialog} onClose={() => setShowLangDialog(false)} maxWidth=\"xs\" fullWidth>\n                  <DialogTitle>Essay Dili Hakkında</DialogTitle>\n                  <DialogContent>\n                    <Typography>\n                      Metninizde <strong>{turkishCharCount}</strong> adet Türkçe karakter tespit edildi. Lütfen essay’i İngilizce yazın.\n                    </Typography>\n                  </DialogContent>\n                  <DialogActions>\n                    <Button onClick={() => setShowLangDialog(false)} autoFocus>\n                      Tamam\n                    </Button>\n                  </DialogActions>\n                </Dialog>\n\n                {isEvaluating && (\n                  <Box sx={{ mt: 2 }}>\n                    <LinearProgress sx={{\n                      height: 8,\n                      borderRadius: 4,\n                      bgcolor: 'rgba(0, 184, 148, 0.1)',\n                      '& .MuiLinearProgress-bar': { background: 'linear-gradient(90deg, #00b894 0%, #00cec9 100%)' }\n                    }} />\n                    <Typography variant=\"body2\" sx={{ mt: 1, textAlign: 'center', color: '#00695c' }}>\n                      AI essay'inizi analiz ediyor...\n                    </Typography>\n                  </Box>\n                )}\n              </Paper>\n            </Box>\n\n            {/* Evaluation Results */}\n            {evaluation && (\n              <Box sx={{ flex: 1, minWidth: 0 }}>\n                <Paper sx={{ p: 3, borderRadius: 3, background: 'rgba(255,255,255,0.9)', border: '1px solid rgba(0, 184, 148, 0.15)' }}>\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 3, color: '#2c3e50' }}>\n                    <AutoAwesomeIcon sx={{ mr: 1 }} /> AI Değerlendirme Sonucu\n                  </Typography>\n\n                  {/* Overall Score */}\n                  <Card sx={{ mb: 3, background: 'rgba(0, 184, 148, 0.06)', border: '1px solid rgba(0, 184, 148, 0.15)' }}>\n                    <CardContent sx={{ textAlign: 'center' }}>\n                      <Typography variant=\"h4\" sx={{ fontWeight: 700, color: getScoreColor(evaluation.scores.overall, true), mb: 1 }}>\n                        {evaluation.scores.overall}/100\n                      </Typography>\n                      <Typography variant=\"h6\" sx={{ color: '#666' }}>Genel Puan</Typography>\n                      <Chip \n                        label={getScoreLabel(evaluation.scores.overall, true)}\n                        sx={{ bgcolor: getScoreColor(evaluation.scores.overall, true), color: 'white', fontWeight: 600, mt: 1 }}\n                      />\n                    </CardContent>\n                  </Card>\n\n                  {/* Detailed Scores */}\n                  <Box sx={{ mb: 3 }}>\n                    <Typography variant=\"h6\" sx={{ mb: 2 }}>\n                      Detaylı Puanlama:\n                    </Typography>\n                    \n                    {[\n                      { key: 'task_response', label: 'Görev Yanıtı' },\n                      { key: 'coherence_cohesion', label: 'Tutarlılık & Bağlantı' },\n                      { key: 'lexical_resource', label: 'Kelime Bilgisi' },\n                      { key: 'grammar', label: 'Dilbilgisi' }\n                    ].map(({ key, label }) => {\n                      const score = evaluation.scores[key as keyof EssayScores];\n                      return (\n                        <Box key={key} sx={{ mb: 2 }}>\n                          <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n                            <Typography variant=\"body1\">{label}</Typography>\n                            <Typography \n                              variant=\"body1\" \n                              sx={{ \n                                fontWeight: 600,\n                                color: getScoreColor(score)\n                              }}\n                            >\n                              {score}/9\n                            </Typography>\n                          </Box>\n                          <LinearProgress\n                            variant=\"determinate\"\n                            value={(score / 9) * 100}\n                            sx={{\n                              height: 8,\n                              borderRadius: 4,\n                              bgcolor: '#e0e0e0',\n                              '& .MuiLinearProgress-bar': {\n                                bgcolor: getScoreColor(score),\n                                borderRadius: 4\n                              }\n                            }}\n                          />\n                        </Box>\n                      );\n                    })}\n                  </Box>\n\n                  {/* Feedback */}\n                  <Box>\n                    <Typography variant=\"h6\" sx={{ mb: 2 }}>\n                      AI Geri Bildirim:\n                    </Typography>\n                    <Paper sx={{ p: 2, bgcolor: '#f8f9fa', border: '1px solid #e0e0e0' }}>\n                      {feedbackBullets.length <= 1 ? (\n                        <Typography variant=\"body1\" sx={{ lineHeight: 1.7 }}>\n                          {evaluation.feedback}\n                        </Typography>\n                      ) : (\n                        <Box component=\"ul\" sx={{ m: 0, pl: 3 }}>\n                          {feedbackBullets.map((b, idx) => (\n                            <Box component=\"li\" key={idx} sx={{ mb: 1.2 }}>\n                              <Typography variant=\"body1\" sx={{ lineHeight: 1.7 }}>{b}</Typography>\n                            </Box>\n                          ))}\n                        </Box>\n                      )}\n                    </Paper>\n                  </Box>\n                </Paper>\n              </Box>\n            )}\n          </Box>\n        </Box>\n      </Paper>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}