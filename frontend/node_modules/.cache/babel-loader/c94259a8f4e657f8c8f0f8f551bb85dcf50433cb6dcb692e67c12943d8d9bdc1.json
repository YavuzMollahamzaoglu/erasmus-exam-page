{"ast":null,"code":"var _jsxFileName = \"/Users/yavuz/erasmus-exam-page/erasmus-exam-page/frontend/src/pages/Rankings.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, Button, TextField } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst medalIcons = ['ü•á',\n// 1st\n'ü•à',\n// 2nd\n'ü•â' // 3rd\n];\nconst examOptions = ['A1', 'A2', 'B1', 'B2'];\n\n// Demo categories for Autocomplete\nconst categories = [{\n  title: 'Matematik',\n  firstLetter: 'M'\n}, {\n  title: 'Fizik',\n  firstLetter: 'F'\n}, {\n  title: 'Kimya',\n  firstLetter: 'K'\n}, {\n  title: 'Biyoloji',\n  firstLetter: 'B'\n}, {\n  title: 'Tarih',\n  firstLetter: 'T'\n}, {\n  title: 'Coƒürafya',\n  firstLetter: 'C'\n}, {\n  title: 'Edebiyat',\n  firstLetter: 'E'\n}];\nconst Rankings = ({\n  token\n}) => {\n  _s();\n  const [rankings, setRankings] = useState([]);\n  const [selectedExam, setSelectedExam] = useState('A1');\n  const [loading, setLoading] = useState(false);\n  const [comments, setComments] = useState([]);\n  const [commentText, setCommentText] = useState('');\n  const [commentLoading, setCommentLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"http://localhost:4000/api/rankings\", {\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {}\n    }).then(res => res.json()).then(data => {\n      setRankings(data.rankings || []);\n      setLoading(false);\n    }).catch(err => {\n      setRankings([]);\n      setLoading(false);\n    });\n    // Fetch comments for selected exam\n    fetch(`http://localhost:4000/api/comments?exam=${selectedExam}`, {\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {}\n    }).then(res => res.json()).then(data => setComments(data.comments || [])).catch(() => setComments([]));\n  }, [token, selectedExam]);\n\n  // Only show top 20\n  const topRankings = rankings.slice(0, 20);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      minHeight: '100vh',\n      bgcolor: '#b2dfdb',\n      pt: {\n        xs: 7,\n        md: 8\n      },\n      px: {\n        xs: 1,\n        md: 4\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        background: '#fff',\n        color: '#222',\n        p: {\n          xs: 3,\n          md: 4\n        },\n        borderRadius: 4,\n        boxShadow: 4,\n        minWidth: 340,\n        maxWidth: 600,\n        width: '100%',\n        mt: {\n          xs: -3,\n          md: -5\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"exam-select\",\n          style: {\n            fontWeight: 600,\n            marginRight: 8,\n            fontSize: 18\n          },\n          children: \"S\\u0131nav:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"exam-select\",\n          value: selectedExam,\n          onChange: e => setSelectedExam(e.target.value),\n          style: {\n            fontSize: 18,\n            padding: '4px 12px',\n            borderRadius: 8,\n            border: '1px solid #bcd',\n            background: '#f7fbff',\n            fontWeight: 600\n          },\n          children: examOptions.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: opt,\n            children: opt\n          }, opt, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center',\n          fontWeight: 700,\n          fontSize: 32,\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          role: \"img\",\n          \"aria-label\": \"trophy\",\n          children: \"\\uD83C\\uDFC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), \" S\\u0131ralama Tablosu\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: 32,\n          fontSize: 20\n        },\n        children: \"Y\\xFCkleniyor...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this) : rankings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: 32,\n          fontSize: 20\n        },\n        children: \"Hi\\xE7 s\\u0131ralama bulunamad\\u0131.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          borderCollapse: 'separate',\n          borderSpacing: 0,\n          fontSize: 18,\n          background: 'transparent'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              background: 'linear-gradient(90deg, #e3f0ff 0%, #f7fbff 100%)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '10px 0',\n                fontWeight: 600,\n                color: '#2a4d7a'\n              },\n              children: \"S\\u0131ra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '10px 0',\n                fontWeight: 600,\n                color: '#2a4d7a'\n              },\n              children: \"\\u0130sim\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '10px 0',\n                fontWeight: 600,\n                color: '#2a4d7a'\n              },\n              children: \"Puan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '10px 0',\n                fontWeight: 600,\n                color: '#2a4d7a'\n              },\n              children: \"Do\\u011Fru\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '10px 0',\n                fontWeight: 600,\n                color: '#2a4d7a'\n              },\n              children: \"Yanl\\u0131\\u015F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                padding: '10px 0',\n                fontWeight: 600,\n                color: '#2a4d7a'\n              },\n              children: \"S\\xFCre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: topRankings.map((r, idx) => {\n            var _r$user, _r$correct, _r$mistakes, _r$time;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                borderBottom: '1px solid #f0f0f0',\n                background: idx % 2 === 0 ? '#fcfcfc' : '#fff'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  textAlign: 'center',\n                  fontWeight: 600,\n                  fontSize: 20\n                },\n                children: idx < 3 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 28\n                  },\n                  children: medalIcons[idx]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#7b8fa6',\n                    fontWeight: 700\n                  },\n                  children: idx + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  fontWeight: idx < 3 ? 700 : 500,\n                  color: idx < 3 ? '#222' : '#444'\n                },\n                children: ((_r$user = r.user) === null || _r$user === void 0 ? void 0 : _r$user.name) || 'No name'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  fontWeight: 700,\n                  color: '#1a3e72',\n                  fontSize: 20\n                },\n                children: r.score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  color: '#1a3e72',\n                  fontWeight: 500\n                },\n                children: (_r$correct = r.correct) !== null && _r$correct !== void 0 ? _r$correct : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  color: '#e74c3c',\n                  fontWeight: 500\n                },\n                children: (_r$mistakes = r.mistakes) !== null && _r$mistakes !== void 0 ? _r$mistakes : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  color: '#1a3e72',\n                  fontWeight: 500\n                },\n                children: (_r$time = r.time) !== null && _r$time !== void 0 ? _r$time : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)]\n            }, r.id || idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: {\n            xs: 6,\n            md: 8\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: {\n              xs: 6,\n              md: 8\n            },\n            bgcolor: '#f7fbff',\n            borderRadius: 4,\n            boxShadow: 2,\n            p: {\n              xs: 2,\n              md: 3\n            },\n            border: '1px solid #e0e7ef'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              mb: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              fontWeight: 700,\n              color: \"#19376D\",\n              sx: {\n                flex: 1\n              },\n              children: [comments.length, \" Yorum\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }, this), token && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              mb: 3,\n              bgcolor: '#fff',\n              borderRadius: 3,\n              boxShadow: 1,\n              px: 2,\n              py: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mr: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/uploads/profile-photos/\" + (window.localStorage.getItem('profilePhoto') || 'logo192.png'),\n                alt: \"profile\",\n                style: {\n                  width: 36,\n                  height: 36,\n                  borderRadius: '50%',\n                  objectFit: 'cover',\n                  border: '2px solid #19376D',\n                  background: '#fff'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              variant: \"outlined\",\n              placeholder: \"Type your reply\",\n              value: commentText,\n              onChange: e => setCommentText(e.target.value),\n              sx: {\n                bgcolor: '#f7fbff',\n                borderRadius: 2,\n                mr: 2\n              },\n              inputProps: {\n                style: {\n                  fontSize: 16\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              sx: {\n                borderRadius: 2,\n                fontWeight: 700,\n                background: '#3b82f6',\n                color: '#fff',\n                px: 3,\n                py: 1,\n                boxShadow: 1,\n                textTransform: 'none',\n                fontSize: 16\n              },\n              disabled: commentLoading || !commentText.trim(),\n              onClick: async () => {\n                setCommentLoading(true);\n                await fetch('http://localhost:4000/api/comments', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    ...(token ? {\n                      Authorization: `Bearer ${token}`\n                    } : {})\n                  },\n                  body: JSON.stringify({\n                    text: commentText,\n                    exam: selectedExam\n                  })\n                });\n                setCommentText('');\n                setCommentLoading(false);\n                // Optionally, refetch comments\n                fetch(`http://localhost:4000/api/comments?exam=${selectedExam}`, {\n                  headers: token ? {\n                    Authorization: `Bearer ${token}`\n                  } : {}\n                }).then(res => res.json()).then(data => setComments(data.comments || [])).catch(() => setComments([]));\n              },\n              children: \"Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 2\n            },\n            children: comments.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"#888\",\n              fontSize: 15,\n              align: \"center\",\n              children: \"No comments yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this) : comments.map((c, i) => {\n              var _c$user, _c$user2, _c$user3;\n              return /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'flex-start',\n                  bgcolor: '#fff',\n                  borderRadius: 3,\n                  boxShadow: 1,\n                  p: 2,\n                  border: '1px solid #e0e7ef'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mr: 2,\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    width: 36,\n                    height: 36,\n                    borderRadius: '50%',\n                    bgcolor: '#e0e7ef',\n                    fontWeight: 700,\n                    fontSize: 18,\n                    color: '#19376D',\n                    border: '2px solid #19376D'\n                  },\n                  children: (_c$user = c.user) !== null && _c$user !== void 0 && _c$user.profilePhoto ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `/uploads/profile-photos/${c.user.profilePhoto}`,\n                    alt: \"profile\",\n                    style: {\n                      width: 36,\n                      height: 36,\n                      borderRadius: '50%',\n                      objectFit: 'cover'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 23\n                  }, this) : (_c$user2 = c.user) !== null && _c$user2 !== void 0 && _c$user2.name ? c.user.name[0].toUpperCase() : 'A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      fontWeight: 600,\n                      fontSize: 16,\n                      color: \"#19376D\",\n                      children: ((_c$user3 = c.user) === null || _c$user3 === void 0 ? void 0 : _c$user3.name) || 'Anonim'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      fontSize: 12,\n                      color: \"#888\",\n                      ml: 1,\n                      children: c.createdAt ? new Date(c.createdAt).toLocaleString() : ''\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    fontSize: 15,\n                    color: \"#222\",\n                    mt: 0.5,\n                    children: c.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"small\",\n                    sx: {\n                      fontSize: 13,\n                      color: '#3b82f6',\n                      textTransform: 'none',\n                      fontWeight: 600,\n                      mt: 0.5\n                    },\n                    variant: \"text\",\n                    children: \"Reply\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)]\n              }, c.id || i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 11\n          }, this), !token && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: '100%',\n              display: 'flex',\n              justifyContent: 'center',\n              mt: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              sx: {\n                borderRadius: 2,\n                fontWeight: 700,\n                px: 4,\n                py: 1.2,\n                boxShadow: 2,\n                textTransform: 'none',\n                fontSize: 16\n              },\n              href: \"/login\",\n              children: \"Yorum yapmak i\\xE7in giri\\u015F yap\\u0131n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Rankings, \"6zJrjJC31VmQgAhaOtzg7nhTh2A=\");\n_c = Rankings;\nexport default Rankings;\nvar _c;\n$RefreshReg$(_c, \"Rankings\");","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Button","TextField","jsxDEV","_jsxDEV","medalIcons","examOptions","categories","title","firstLetter","Rankings","token","_s","rankings","setRankings","selectedExam","setSelectedExam","loading","setLoading","comments","setComments","commentText","setCommentText","commentLoading","setCommentLoading","fetch","headers","Authorization","then","res","json","data","catch","err","topRankings","slice","sx","display","justifyContent","alignItems","minHeight","bgcolor","pt","xs","md","px","children","background","color","p","borderRadius","boxShadow","minWidth","maxWidth","width","mt","style","marginBottom","htmlFor","fontWeight","marginRight","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","id","value","onChange","e","target","padding","border","map","opt","textAlign","role","length","borderCollapse","borderSpacing","r","idx","_r$user","_r$correct","_r$mistakes","_r$time","borderBottom","user","name","score","correct","mistakes","time","mb","variant","flex","py","mr","src","window","localStorage","getItem","alt","height","objectFit","fullWidth","placeholder","inputProps","textTransform","disabled","trim","onClick","method","body","JSON","stringify","text","exam","flexDirection","gap","align","c","i","_c$user","_c$user2","_c$user3","profilePhoto","toUpperCase","ml","createdAt","Date","toLocaleString","size","href","_c","$RefreshReg$"],"sources":["/Users/yavuz/erasmus-exam-page/erasmus-exam-page/frontend/src/pages/Rankings.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Box, Paper, Typography, Button, TextField } from '@mui/material';\n\n\ninterface Props {\n  token: string;\n}\n\nconst medalIcons = [\n  'ü•á', // 1st\n  'ü•à', // 2nd\n  'ü•â', // 3rd\n];\n\nconst examOptions = ['A1', 'A2', 'B1', 'B2'];\n\n// Demo categories for Autocomplete\nconst categories = [\n  { title: 'Matematik', firstLetter: 'M' },\n  { title: 'Fizik', firstLetter: 'F' },\n  { title: 'Kimya', firstLetter: 'K' },\n  { title: 'Biyoloji', firstLetter: 'B' },\n  { title: 'Tarih', firstLetter: 'T' },\n  { title: 'Coƒürafya', firstLetter: 'C' },\n  { title: 'Edebiyat', firstLetter: 'E' },\n];\n\nconst Rankings: React.FC<Props> = ({ token }) => {\n  const [rankings, setRankings] = useState<any[]>([]);\n  const [selectedExam, setSelectedExam] = useState<string>('A1');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [comments, setComments] = useState<any[]>([]);\n  const [commentText, setCommentText] = useState('');\n  const [commentLoading, setCommentLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"http://localhost:4000/api/rankings\", {\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setRankings(data.rankings || []);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setRankings([]);\n        setLoading(false);\n      });\n    // Fetch comments for selected exam\n    fetch(`http://localhost:4000/api/comments?exam=${selectedExam}`, {\n      headers: token ? { Authorization: `Bearer ${token}` } : {}\n    })\n      .then(res => res.json())\n      .then(data => setComments(data.comments || []))\n      .catch(() => setComments([]));\n  }, [token, selectedExam]);\n\n  // Only show top 20\n  const topRankings = rankings.slice(0, 20);\n\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'flex-start', minHeight: '100vh', bgcolor: '#b2dfdb', pt: { xs: 7, md: 8 }, px: { xs: 1, md: 4 } }}>\n      <Box sx={{ background: '#fff', color: '#222', p: { xs: 3, md: 4 }, borderRadius: 4, boxShadow: 4, minWidth: 340, maxWidth: 600, width: '100%', mt: { xs: -3, md: -5 } }}>\n        {/* ...existing code... */}\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: 16 }}>\n          <label htmlFor=\"exam-select\" style={{ fontWeight: 600, marginRight: 8, fontSize: 18 }}>Sƒ±nav:</label>\n          <select\n            id=\"exam-select\"\n            value={selectedExam}\n            onChange={e => setSelectedExam(e.target.value)}\n            style={{ fontSize: 18, padding: '4px 12px', borderRadius: 8, border: '1px solid #bcd', background: '#f7fbff', fontWeight: 600 }}\n          >\n            {examOptions.map(opt => (\n              <option key={opt} value={opt}>{opt}</option>\n            ))}\n          </select>\n        </div>\n        <h2 style={{ textAlign: 'center', fontWeight: 700, fontSize: 32, marginBottom: 16 }}>\n          <span role=\"img\" aria-label=\"trophy\">üèÜ</span> Sƒ±ralama Tablosu\n        </h2>\n        {loading ? (\n          <div style={{ textAlign: 'center', padding: 32, fontSize: 20 }}>Y√ºkleniyor...</div>\n        ) : rankings.length === 0 ? (\n          <div style={{ textAlign: 'center', padding: 32, fontSize: 20 }}>Hi√ß sƒ±ralama bulunamadƒ±.</div>\n        ) : (\n          <table style={{ width: '100%', borderCollapse: 'separate', borderSpacing: 0, fontSize: 18, background: 'transparent' }}>\n            <thead>\n              <tr style={{ background: 'linear-gradient(90deg, #e3f0ff 0%, #f7fbff 100%)' }}>\n                <th style={{ padding: '10px 0', fontWeight: 600, color: '#2a4d7a' }}>Sƒ±ra</th>\n                <th style={{ padding: '10px 0', fontWeight: 600, color: '#2a4d7a' }}>ƒ∞sim</th>\n                <th style={{ padding: '10px 0', fontWeight: 600, color: '#2a4d7a' }}>Puan</th>\n                <th style={{ padding: '10px 0', fontWeight: 600, color: '#2a4d7a' }}>Doƒüru</th>\n                <th style={{ padding: '10px 0', fontWeight: 600, color: '#2a4d7a' }}>Yanlƒ±≈ü</th>\n                <th style={{ padding: '10px 0', fontWeight: 600, color: '#2a4d7a' }}>S√ºre</th>\n              </tr>\n            </thead>\n            <tbody>\n              {topRankings.map((r, idx) => (\n                <tr key={r.id || idx} style={{ borderBottom: '1px solid #f0f0f0', background: idx % 2 === 0 ? '#fcfcfc' : '#fff' }}>\n                  <td style={{ textAlign: 'center', fontWeight: 600, fontSize: 20 }}>\n                    {idx < 3 ? (\n                      <span style={{ fontSize: 28 }}>{medalIcons[idx]}</span>\n                    ) : (\n                      <span style={{ color: '#7b8fa6', fontWeight: 700 }}>{idx + 1}</span>\n                    )}\n                  </td>\n                  <td style={{ fontWeight: idx < 3 ? 700 : 500, color: idx < 3 ? '#222' : '#444' }}>{r.user?.name || 'No name'}</td>\n                  <td style={{ fontWeight: 700, color: '#1a3e72', fontSize: 20 }}>{r.score}</td>\n                  <td style={{ color: '#1a3e72', fontWeight: 500 }}>{r.correct ?? '-'}</td>\n                  <td style={{ color: '#e74c3c', fontWeight: 500 }}>{r.mistakes ?? '-'}</td>\n                  <td style={{ color: '#1a3e72', fontWeight: 500 }}>{r.time ?? '-'}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n        {/* Comments Section */}\n        <Box sx={{ mt: { xs: 6, md: 8 } }}>\n        <Box sx={{ mt: { xs: 6, md: 8 }, bgcolor: '#f7fbff', borderRadius: 4, boxShadow: 2, p: { xs: 2, md: 3 }, border: '1px solid #e0e7ef' }}>\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n            <Typography variant=\"h6\" fontWeight={700} color=\"#19376D\" sx={{ flex: 1 }}>\n              {comments.length} Yorum\n            </Typography>\n          </Box>\n          {/* Input bar (only for logged in users) */}\n          {token && (\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3, bgcolor: '#fff', borderRadius: 3, boxShadow: 1, px: 2, py: 1 }}>\n              <Box sx={{ mr: 2 }}>\n                <img\n                  src={\"/uploads/profile-photos/\" + (window.localStorage.getItem('profilePhoto') || 'logo192.png')}\n                  alt=\"profile\"\n                  style={{ width: 36, height: 36, borderRadius: '50%', objectFit: 'cover', border: '2px solid #19376D', background: '#fff' }}\n                />\n              </Box>\n              <TextField\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"Type your reply\"\n                value={commentText}\n                onChange={e => setCommentText(e.target.value)}\n                sx={{ bgcolor: '#f7fbff', borderRadius: 2, mr: 2 }}\n                inputProps={{ style: { fontSize: 16 } }}\n              />\n              <Button\n                variant=\"contained\"\n                sx={{ borderRadius: 2, fontWeight: 700, background: '#3b82f6', color: '#fff', px: 3, py: 1, boxShadow: 1, textTransform: 'none', fontSize: 16 }}\n                disabled={commentLoading || !commentText.trim()}\n                onClick={async () => {\n                  setCommentLoading(true);\n                  await fetch('http://localhost:4000/api/comments', {\n                    method: 'POST',\n                    headers: {\n                      'Content-Type': 'application/json',\n                      ...(token ? { Authorization: `Bearer ${token}` } : {})\n                    },\n                    body: JSON.stringify({ text: commentText, exam: selectedExam })\n                  });\n                  setCommentText('');\n                  setCommentLoading(false);\n                  // Optionally, refetch comments\n                  fetch(`http://localhost:4000/api/comments?exam=${selectedExam}`, {\n                    headers: token ? { Authorization: `Bearer ${token}` } : {}\n                  })\n                    .then(res => res.json())\n                    .then(data => setComments(data.comments || []))\n                    .catch(() => setComments([]));\n                }}\n              >Post</Button>\n            </Box>\n          )}\n          {/* Comments list */}\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n            {comments.length === 0 ? (\n              <Typography color=\"#888\" fontSize={15} align=\"center\">No comments yet.</Typography>\n            ) : (\n              comments.map((c, i) => (\n                <Box key={c.id || i} sx={{ display: 'flex', alignItems: 'flex-start', bgcolor: '#fff', borderRadius: 3, boxShadow: 1, p: 2, border: '1px solid #e0e7ef' }}>\n                  {/* Avatar/Initials */}\n                  <Box sx={{ mr: 2, display: 'flex', alignItems: 'center', justifyContent: 'center', width: 36, height: 36, borderRadius: '50%', bgcolor: '#e0e7ef', fontWeight: 700, fontSize: 18, color: '#19376D', border: '2px solid #19376D' }}>\n                    {c.user?.profilePhoto ? (\n                      <img\n                        src={`/uploads/profile-photos/${c.user.profilePhoto}`}\n                        alt=\"profile\"\n                        style={{ width: 36, height: 36, borderRadius: '50%', objectFit: 'cover' }}\n                      />\n                    ) : (\n                      (c.user?.name ? c.user.name[0].toUpperCase() : 'A')\n                    )}\n                  </Box>\n                  <Box sx={{ flex: 1 }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                      <Typography fontWeight={600} fontSize={16} color=\"#19376D\">{c.user?.name || 'Anonim'}</Typography>\n                      <Typography fontSize={12} color=\"#888\" ml={1}>{c.createdAt ? new Date(c.createdAt).toLocaleString() : ''}</Typography>\n                    </Box>\n                    <Typography fontSize={15} color=\"#222\" mt={0.5}>{c.text}</Typography>\n                    <Button size=\"small\" sx={{ fontSize: 13, color: '#3b82f6', textTransform: 'none', fontWeight: 600, mt: 0.5 }} variant=\"text\">Reply</Button>\n                  </Box>\n                </Box>\n              ))\n            )}\n          </Box>\n          {/* Show login button at the very bottom if not logged in */}\n          {!token && (\n            <Box sx={{ width: '100%', display: 'flex', justifyContent: 'center', mt: 3 }}>\n              <Button variant=\"contained\" color=\"primary\" sx={{ borderRadius: 2, fontWeight: 700, px: 4, py: 1.2, boxShadow: 2, textTransform: 'none', fontSize: 16 }} href=\"/login\">Yorum yapmak i√ßin giri≈ü yapƒ±n</Button>\n            </Box>\n          )}\n        </Box>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Rankings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}